<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Slides on Che-Chia Chang</title>
    <link>https://chechia.net/slides/</link>
    <description>Recent content in Slides on Che-Chia Chang</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator>
    <language>en-us</language>
    <copyright>chechiachang &amp;copy; 2016</copyright>
    <lastBuildDate>Wed, 30 Oct 2019 11:26:31 +0800</lastBuildDate>
    
	    <atom:link href="https://chechia.net/slides/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Kubernetes Introduction for Non Engineer</title>
      <link>https://chechia.net/slides/kubernetes-introduction-for-non-engineer/</link>
      <pubDate>Wed, 30 Oct 2019 11:26:31 +0800</pubDate>
      
      <guid>https://chechia.net/slides/kubernetes-introduction-for-non-engineer/</guid>
      <description>&lt;h3 id=&#34;kubernetes-是啥能吃嗎&#34;&gt;Kubernetes 是啥能吃嗎&lt;/h3&gt;
&lt;p&gt;給非工程師的 Kubernetes 簡介&lt;/p&gt;






&lt;figure&gt;

&lt;img src=&#34;https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Kubernetes_logo_without_workmark.svg/1200px-Kubernetes_logo_without_workmark.svg.png&#34; width=&#34;40%&#34; height=&#34;40%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;大綱&#34;&gt;大綱&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;kubernetes 是一個工具，&lt;a href=&#34;https://trends.google.com.tw/trends/explore?date=today%205-y&amp;amp;q=docker,kubernetes,blockchain&#34;&gt;越來越夯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;這個工具想解決的問題&lt;/li&gt;
&lt;li&gt;最後才說 Kubernetes 是啥能吃嗎&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;寫完-app-到上線要走的路&#34;&gt;寫完 app 到上線要走的路&lt;/h3&gt;
&lt;p&gt;工程團隊產出完美的程式碼後，大家從此過著幸福快樂的日子?&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;寫完-app-到上線要走的路-1&#34;&gt;寫完 app 到上線要走的路&lt;/h3&gt;






&lt;figure&gt;

&lt;img src=&#34;https://images.vexels.com/media/users/3/143600/isolated/preview/1b2a1e1747f67ce87ea8af5fdf410d23-yao-ming-face-meme-by-vexels.png&#34; width=&#34;60%&#34; height=&#34;60%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;常見問題&#34;&gt;常見問題&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&amp;ldquo;It works on MY PC !&amp;rdquo;&lt;/li&gt;
&lt;li&gt;一個 app 不夠力，有沒有試過兩個 app ？&lt;/li&gt;
&lt;li&gt;staging 跟 production 的差別 = 把使用者當QA ？&lt;/li&gt;
&lt;li&gt;Valar Morghulis. Valar Dohaeris.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;1-it-works-on-my-pc-&#34;&gt;1. It works on my PC !&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;app 是好的，server 是好的，app 放上 server 就壞了。why?&lt;/li&gt;
&lt;li&gt;server 跟 mac 不一樣。mac 有的東西 server 不一定有&lt;/li&gt;
&lt;li&gt;跑程式之前要先裝某某東西
&lt;ul&gt;
&lt;li&gt;系統依賴性(dependency)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;1-容器-container&#34;&gt;1. 容器 (Container)&lt;/h3&gt;
&lt;p&gt;使用容器來解決 It works on my PC ! 的問題&lt;/p&gt;






&lt;figure&gt;

&lt;img src=&#34;https://www.portablespace.co.uk/wp-content/uploads/2018/08/7-Portable-Space-40FT-HC-final.jpg&#34; width=&#34;60%&#34; height=&#34;60%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;1-容器-container-1&#34;&gt;1. 容器 (Container)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;怕缺東西，整包包好放上去跑
&lt;ul&gt;
&lt;li&gt;app&lt;/li&gt;
&lt;li&gt;app 的程式庫(library)&lt;/li&gt;
&lt;li&gt;作業系統 Linux 的一部分，補足不同 server 上缺的東西&lt;/li&gt;
&lt;li&gt;App + 程式庫 + 作業系統的一部分 = container&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;開發 -&amp;gt; 打包 -&amp;gt; 部署&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;1-容器-container-2&#34;&gt;1. 容器 (Container)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;keywords: 容器，容器化，container, &lt;a href=&#34;https://www.docker.com/&#34;&gt;docker&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;






&lt;figure&gt;

&lt;img src=&#34;https://cdn.worldvectorlogo.com/logos/docker.svg&#34; width=&#34;60%&#34; height=&#34;60%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;2-一個-app-不夠力有沒有試過兩個-app-&#34;&gt;2. 一個 app 不夠力，有沒有試過兩個 app ？&lt;/h3&gt;
&lt;p&gt;1 app = 100 使用者使用，1,000 使用者要怎麼辦?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;把 app 放到 10 倍大的 server&lt;/li&gt;
&lt;li&gt;把 10 個 app 放到 10 台 server&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;垂直擴展(vertical scaling), 水平擴展(horizontal scaling)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;2-水平擴展與效能提升&#34;&gt;2. 水平擴展與效能提升&lt;/h3&gt;






&lt;figure&gt;

&lt;img src=&#34;https://www.cbronline.com/wp-content/uploads/2018/02/docker-swarm-containers.png&#34; width=&#34;60%&#34; height=&#34;60%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;3-staging-跟-production-的差別&#34;&gt;3. staging 跟 production 的差別&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;staging 有一個 QA&lt;/li&gt;
&lt;li&gt;production 有很多 QA&lt;/li&gt;
&lt;li&gt;壞了被使用者發現，把使用者當 QA ，會遭到報應的&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;3-staging-跟-production-的差別-1&#34;&gt;3. staging 跟 production 的差別&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;production 穩定嗎？有多穩？&lt;/li&gt;
&lt;li&gt;production 速度快嗎？有多快？&lt;/li&gt;
&lt;li&gt;程式不只要跑的對，還要跑的又快又好&lt;/li&gt;
&lt;li&gt;服務監測(monitoring)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;3-staging-跟-production-的差別-2&#34;&gt;3. staging 跟 production 的差別&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;壞了才發現壞掉&lt;/li&gt;
&lt;li&gt;壞之前發現即將要壞掉&lt;/li&gt;
&lt;li&gt;即時告警(alerting)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;4-valar-morghulis-valar-dohaeris&#34;&gt;4. Valar Morghulis. Valar Dohaeris.&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;app 終有一死&lt;/li&gt;
&lt;li&gt;Google 每個月都在死 &lt;a href=&#34;https://status.cloud.google.com/summary&#34;&gt;status.cloud.google.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;上版就壞掉，v1.20.1-hotfix-hotfix-hotfix&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;4-valar-morghulis-valar-dohaeris-1&#34;&gt;4. Valar Morghulis. Valar Dohaeris.&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;確保寫好 app 的同時，也要思考死了怎麼辦&lt;/li&gt;
&lt;li&gt;預設 app 就是會死
&lt;ul&gt;
&lt;li&gt;測試活著還是死了(Health check)&lt;/li&gt;
&lt;li&gt;讓他自動站起來(auto recovery)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;複習一下&#34;&gt;複習一下&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&amp;ldquo;It works on MY PC !&amp;rdquo;&lt;/li&gt;
&lt;li&gt;一個 app 變成兩個 app&lt;/li&gt;
&lt;li&gt;staging 跟 production 的差別&lt;/li&gt;
&lt;li&gt;Valar Morghulis. Valar Dohaeris.&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id=&#34;kubernetes-是啥能吃嗎-1&#34;&gt;Kubernetes 是啥能吃嗎&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Kubernetes (K8s) is an open-source system for automating deployment, scaling, and management of containerized applications.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://kubernetes.io/&#34;&gt;https://kubernetes.io/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;






&lt;figure&gt;

&lt;img src=&#34;https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Kubernetes_logo_without_workmark.svg/1200px-Kubernetes_logo_without_workmark.svg.png&#34; width=&#34;40%&#34; height=&#34;40%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;kubernetes-是啥能吃嗎-2&#34;&gt;Kubernetes 是啥能吃嗎&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Containerized: &amp;ldquo;It works on every PC&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Scaling: 1 app -&amp;gt; 10 apps&lt;/li&gt;
&lt;li&gt;Monitoring, Alerting: staging -&amp;gt; production&lt;/li&gt;
&lt;li&gt;Health Check, Auto Recovery&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id=&#34;我們用-kubernetes-做到的事&#34;&gt;我們用 Kubernetes 做到的事&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;一鍵部署上線&lt;/li&gt;
&lt;li&gt;自動監測&lt;/li&gt;
&lt;li&gt;自動警告&lt;/li&gt;
&lt;li&gt;水平擴展&lt;/li&gt;
&lt;li&gt;自動復原&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;keywords&#34;&gt;keywords&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;app, library, os dependency, docker&lt;/li&gt;
&lt;li&gt;horizontal scaling&lt;/li&gt;
&lt;li&gt;monitoring, alerting&lt;/li&gt;
&lt;li&gt;health check, auto recovery, high available&lt;/li&gt;
&lt;li&gt;kubernetes&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Deploy Kafka on Kubernetes</title>
      <link>https://chechia.net/slides/kubernetes-kafka-deployment/</link>
      <pubDate>Fri, 18 Oct 2019 16:12:42 +0800</pubDate>
      
      <guid>https://chechia.net/slides/kubernetes-kafka-deployment/</guid>
      <description>&lt;h3 id=&#34;deploy-kafka-on-kubernetes&#34;&gt;Deploy Kafka on Kubernetes&lt;/h3&gt;
&lt;p&gt;David Chang&lt;/p&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/kubernetes-kafka-qrcode.png&#34; width=&#34;60%&#34; height=&#34;60%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;about-me&#34;&gt;About Me&lt;/h3&gt;
&lt;p&gt;David (Che-Chia) Chang&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Backend / Devops @ &lt;a href=&#34;https://machix.com/&#34;&gt;MachiX&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.meetup.com/golang-taipei-meetup/&#34;&gt;Golang Taipei Meetup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ithelp.ithome.com.tw/users/20120327/ironman/2444&#34;&gt;2020 Ithelp Ironman Challenge&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://t.me/chechiachang&#34;&gt;https://t.me/chechiachang&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;outline&#34;&gt;Outline&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Introduction to Kafka&lt;/li&gt;
&lt;li&gt;Deploy Kafka with Helm&lt;/li&gt;
&lt;li&gt;Kafka Topology&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ithelp.ithome.com.tw/articles/10219040&#34;&gt;Ithelp Ironman 30 days Challenge (7th-12nd day)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;introduction&#34;&gt;Introduction&lt;/h3&gt;






&lt;figure&gt;

&lt;img src=&#34;https://kafka.apache.org/images/logo.png&#34; width=&#34;70%&#34; height=&#34;70%&#34; &gt;


&lt;/figure&gt;

&lt;p&gt;&lt;a href=&#34;https://kafka.apache.org/&#34;&gt;https://kafka.apache.org/&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;distributed-streaming-platform&#34;&gt;Distributed streaming platform&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Publish &amp;amp; Subscribe: r/w data like messaging system&lt;/li&gt;
&lt;li&gt;Store data in distributed, replicated, fault-tolerant cluster&lt;/li&gt;
&lt;li&gt;Scalable&lt;/li&gt;
&lt;li&gt;Realtime&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;concepts&#34;&gt;Concepts&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Kafka run as a cluster&lt;/li&gt;
&lt;li&gt;Kafka cluster stores streams of &lt;strong&gt;records&lt;/strong&gt; in categories called &lt;strong&gt;topics&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;record = (key, value, timestamp)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;kafka-diagram&#34;&gt;Kafka Diagram&lt;/h3&gt;






&lt;figure&gt;

&lt;img src=&#34;https://kafka.apache.org/23/images/kafka-apis.png&#34; width=&#34;70%&#34; height=&#34;70%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;topic-partitions&#34;&gt;Topic Partitions&lt;/h3&gt;






&lt;figure&gt;

&lt;img src=&#34;https://kafka.apache.org/23/images/log_anatomy.png&#34; width=&#34;70%&#34; height=&#34;70%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;topic-partitions-1&#34;&gt;Topic Partitions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Data categorized by topic&lt;/li&gt;
&lt;li&gt;Data replicated in partitions&lt;/li&gt;
&lt;li&gt;Durability
&lt;ul&gt;
&lt;li&gt;consumer able to r/w complete data from at least 1 partition&lt;/li&gt;
&lt;li&gt;in order&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;distributed-data-streaming&#34;&gt;Distributed Data Streaming&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Scalible r/w bandwith&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Data Durability&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Consistency&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Availability&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Partition Tolerance&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;multi-consumer&#34;&gt;Multi Consumer&lt;/h3&gt;






&lt;figure&gt;

&lt;img src=&#34;https://kafka.apache.org/23/images/log_consumer.png&#34; width=&#34;70%&#34; height=&#34;70%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;consumer-group&#34;&gt;Consumer Group&lt;/h3&gt;






&lt;figure&gt;

&lt;img src=&#34;https://kafka.apache.org/23/images/consumer-groups.png&#34; width=&#34;70%&#34; height=&#34;70%&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;consumer-group-1&#34;&gt;Consumer Group&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Partition deliver record to one consumer within each subscribing consumer group&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;deployment&#34;&gt;Deployment&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/helm/charts/tree/master/incubator/kafka&#34;&gt;Helm Kafka&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;deployment-1&#34;&gt;Deployment&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/chechiachang/kafka-on-kubernetes&#34;&gt;https://github.com/chechiachang/kafka-on-kubernetes&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cat install.sh

#!/bin/bash
# https://github.com/helm/charts/tree/master/incubator/kafka

HELM_NAME=kafka-1
helm repo add incubator http://storage.googleapis.com/kubernetes-charts-incubator

helm upgrade --install ${HELM_NAME} incubator/kafka --version 0.16.2 -f values-staging.yaml
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Check values-staging.yaml before deployment&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;helm-chart-values&#34;&gt;Helm Chart Values&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;cat values-staging.yaml

# ------------------------------------------------------------------------------
# Kafka:
# ------------------------------------------------------------------------------

## The StatefulSet installs 3 pods by default
replicas: 3

## The kafka image repository
image: &amp;quot;confluentinc/cp-kafka&amp;quot;

## The kafka image tag
imageTag: &amp;quot;5.0.1&amp;quot;  # Confluent image for Kafka 2.0.0

## Specify a imagePullPolicy
## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images
imagePullPolicy: &amp;quot;IfNotPresent&amp;quot;

## Configure resource requests and limits
## ref: http://kubernetes.io/docs/user-guide/compute-resources/
resources: {}
  # limits:
  #   cpu: 200m
  #   memory: 1536Mi
  # requests:
  #   cpu: 100m
  #   memory: 1024Mi
kafkaHeapOptions: &amp;quot;-Xmx4G -Xms1G&amp;quot;

## The StatefulSet Update Strategy which Kafka will use when changes are applied.
## ref: https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/#update-strategies
updateStrategy:
  type: &amp;quot;OnDelete&amp;quot;

## Start and stop pods in Parallel or OrderedReady (one-by-one.)  Note - Can not change after first release.
## ref: https://kubernetes.io/docs/tutorials/stateful-application/basic-stateful-set/#pod-management-policy
podManagementPolicy: OrderedReady

## If RBAC is enabled on the cluster, the Kafka init container needs a service account
## with permissisions sufficient to apply pod labels
rbac:
  enabled: false

affinity:
   podAntiAffinity:
     requiredDuringSchedulingIgnoredDuringExecution:
     - labelSelector:
         matchExpressions:
         - key: app
           operator: In
           values:
           - kafka
       topologyKey: &amp;quot;kubernetes.io/hostname&amp;quot;
   podAffinity:
     preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 50
        podAffinityTerm:
          labelSelector:
            matchExpressions:
            - key: app
              operator: In
              values:
                - zookeeper
          topologyKey: &amp;quot;kubernetes.io/hostname&amp;quot;

## Configuration Overrides. Specify any Kafka settings you would like set on the StatefulSet
## here in map format, as defined in the official docs.
## ref: https://kafka.apache.org/documentation/#brokerconfigs
##

configurationOverrides:
  &amp;quot;default.replication.factor&amp;quot;: 3
  &amp;quot;offsets.topic.replication.factor&amp;quot;: 1 # Increased from 1 to 2 for higher output
  # &amp;quot;offsets.topic.num.partitions&amp;quot;: 3
  &amp;quot;confluent.support.metrics.enable&amp;quot;: false  # Disables confluent metric submission
  # &amp;quot;auto.leader.rebalance.enable&amp;quot;: true
  # &amp;quot;auto.create.topics.enable&amp;quot;: true
  # &amp;quot;controlled.shutdown.enable&amp;quot;: true
  # &amp;quot;controlled.shutdown.max.retries&amp;quot;: 100
  &amp;quot;message.max.bytes&amp;quot;: &amp;quot;16000000&amp;quot; # Extend global topic max message bytes to 16 Mb

## Persistence configuration. Specify if and how to persist data to a persistent volume.
##

persistence:
  enabled: true

## Prometheus Exporters / Metrics
##

prometheus:
  ## Prometheus JMX Exporter: exposes the majority of Kafkas metrics
  jmx:
    enabled: true

  ## Prometheus Kafka Exporter: exposes complimentary metrics to JMX Exporter
  kafka:
    enabled: true
topics: []

# ------------------------------------------------------------------------------
# Zookeeper:
# ------------------------------------------------------------------------------

zookeeper:
  ## If true, install the Zookeeper chart alongside Kafka
  ## ref: https://github.com/kubernetes/charts/tree/master/incubator/zookeeper
  enabled: true
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;kubernetes-configurations&#34;&gt;Kubernetes Configurations&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;replicas&lt;/li&gt;
&lt;li&gt;resource&lt;/li&gt;
&lt;li&gt;pod affinity&lt;/li&gt;
&lt;li&gt;persistence&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;kafka-configurations&#34;&gt;Kafka Configurations&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;zookeeper&lt;/li&gt;
&lt;li&gt;configurationOverrides&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;  &amp;quot;default.replication.factor&amp;quot;: 3
  &amp;quot;offsets.topic.replication.factor&amp;quot;: 1 # Increased from 1 to 2 for higher output
  # &amp;quot;offsets.topic.num.partitions&amp;quot;: 3
  # &amp;quot;auto.leader.rebalance.enable&amp;quot;: true
  # &amp;quot;auto.create.topics.enable&amp;quot;: true
  &amp;quot;message.max.bytes&amp;quot;: &amp;quot;16000000&amp;quot; # Extend global topic max message bytes to 16 Mb
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;monitoring-configurations&#34;&gt;Monitoring Configurations&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;prometheus exporter&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;monitoring is the key to production&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;deploy-after-understande-configs&#34;&gt;Deploy after Understande Configs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;All Kafka garantees are based on a correctly configured cluster&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Incorrect configs will cause cluster unstable and data loss&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now we can deploy :)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;pods&#34;&gt;Pods&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ kubectl get po | grep kafka

NAME                                                     READY   STATUS      RESTARTS   AGE
kafka-1-0                                                1/1     Running     0          224d
kafka-1-1                                                1/1     Running     0          224d
kafka-1-2                                                1/1     Running     0          224d
kafka-1-exporter-88786d84b-z954z                         1/1     Running     0          224d
kafka-1-zookeeper-0                                      1/1     Running     0          224d
kafka-1-zookeeper-1                                      1/1     Running     0          224d
kafka-1-zookeeper-2                                      1/1     Running     0          224d
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;availability&#34;&gt;Availability&lt;/h3&gt;
&lt;p&gt;ex. replication factor=3&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;3 partitions, each 1 in a kafka-broker&lt;/li&gt;
&lt;li&gt;1 master partition 2 slave partitions (readonly)&lt;/li&gt;
&lt;li&gt;data &lt;strong&gt;sync&lt;/strong&gt; from master to slave&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;availability-1&#34;&gt;Availability&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;kafka keep a number of slave in-synced
&lt;ul&gt;
&lt;li&gt;too many in-sync -&amp;gt; slow down write confirm&lt;/li&gt;
&lt;li&gt;not enough will -&amp;gt; data loss&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;on-slave-failure&#34;&gt;On slave failure&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;client not affected&lt;/li&gt;
&lt;li&gt;keep enough in-sync slaves&lt;/li&gt;
&lt;li&gt;wait dead slave to back online&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;on-master-failure&#34;&gt;On master failure&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;slave select new master within in-synced slaves&lt;/li&gt;
&lt;li&gt;new master sync to slaves&lt;/li&gt;
&lt;li&gt;new master serve clients&lt;/li&gt;
&lt;li&gt;wait dead master to back online and become slave&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;configs-availability&#34;&gt;Configs Availability&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Metadata are stored in zookeeper
&lt;ul&gt;
&lt;li&gt;topic configs&lt;/li&gt;
&lt;li&gt;partition configs&lt;/li&gt;
&lt;li&gt;consumer offsets&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;重點&#34;&gt;重點&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;要仔細看完 helm chart values 的設定，設錯就幹掉重來&lt;/li&gt;
&lt;li&gt;kafka 的概念與設定，要花時間研究清楚&lt;/li&gt;
&lt;li&gt;resource &amp;amp; JVM heap size&lt;/li&gt;
&lt;li&gt;prometheus is a must&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ithelp-ironman-challenge&#34;&gt;Ithelp Ironman Challenge&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;30 天內容都是 step-by-step&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;內容只是仔細看官方文件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;challenge -&amp;gt; 自我成長&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;給輸在起跑點的人&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;thank-you&#34;&gt;Thank you&lt;/h3&gt;
</description>
    </item>
    
    <item>
      <title>Jenkins X on Kubernetes</title>
      <link>https://chechia.net/slides/jenkins-x-on-kubernetes/</link>
      <pubDate>Fri, 19 Apr 2019 21:36:50 +0800</pubDate>
      
      <guid>https://chechia.net/slides/jenkins-x-on-kubernetes/</guid>
      <description>&lt;h3 id=&#34;jenkinshttpsjenkinsio&#34;&gt;&lt;a href=&#34;https://jenkins.io/&#34;&gt;Jenkins&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;One of the earliest open source antomation server&lt;/li&gt;
&lt;li&gt;Most common option in use&lt;/li&gt;
&lt;li&gt;Flexible and customizable. Hundreds of plugins&lt;/li&gt;
&lt;li&gt;Support automation for any project&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;jenkins-xhttpsjenkins-xio&#34;&gt;&lt;a href=&#34;https://jenkins-x.io/&#34;&gt;Jenkins X&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;CI/CD platform (Jenkins Platform)&lt;/li&gt;
&lt;li&gt;Cloud native serverless&lt;/li&gt;
&lt;li&gt;For modern cloud applications on Kubernetes.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;outlines&#34;&gt;Outlines&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#install&#34;&gt;Install Jenkins with jx&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pipeline&#34;&gt;Create a Pipeline with jx&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#client&#34;&gt;Develope with jx client&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;check &lt;a href=&#34;https://github.com/jenkins-x/jx&#34;&gt;Jenkins-X Github Repo&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;h3 id=&#34;install&#34;&gt;Install&lt;/h3&gt;
&lt;p&gt;Create GKE cluster &amp;amp; Get Credentials&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gcloud init
gcloud components update
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;CLUSTER_NAME=jenkins-server
#CLUSTER_NAME=jenkins-serverless

gcloud container clusters create ${CLUSTER_NAME} \
  --num-nodes 1 \
  --machine-type n1-standard-4 \
  --enable-autoscaling \
  --min-nodes 1 \
  --max-nodes 2 \
  --zone asia-east1-b \
  --preemptible
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Create GKE cluster &amp;amp; Get Credentials&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Get credentials to access cluster with kubectl
gcloud container clusters get-credentials ${CLUSTER_NAME}

# Check cluster stats.
kubectl get nodes
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Download &lt;a href=&#34;https://github.com/jenkins-x/jx/releases&#34;&gt;Jenkins X Release&lt;/a&gt; &amp;amp; install jx on Local Machine&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;JX_VERSION=v2.0.2
OS_ARCH=darwin-amd64
#OS_ARCH=linux-amd64
curl -L https://github.com/jenkins-x/jx/releases/download/&amp;quot;${JX_VERSION}&amp;quot;/jx-&amp;quot;${OS_ARCH}&amp;quot;.tar.gz | tar xzv
sudo mv jx /usr/local/bin
jx version

NAME               VERSION
jx                 2.0.2
Kubernetes cluster v1.11.7-gke.12
kubectl            v1.11.9-dispatcher
helm client        v2.11.0+g2e55dbe
helm server        v2.11.0+g2e55dbe
git                git version 2.20.1
Operating System   Mac OS X 10.14.4 build 18E226
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;(Install Option 1) Serverless Jenkins Pipeline&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;DEFAULT_PASSWORD=mySecretPassWord123
jx install \
  --default-admin-password=${DEFAULT_PASSWORD} \
  --provider=&#39;gke&#39;
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Install options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Select Jenkins installation type:
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Serverless Jenkins X Pipelines with Tekon&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Static Master Jenkins&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Pick default workload build pack
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Kubernetes Workloads: Automated CI+CD with GitOps Promotion&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Library Workloads: CI+Release but no CD&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;Your Kubernetes context is now set to the namespace: jx
INFO[0231] To switch back to your original namespace use: jx namespace jx
...
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;(Install Option 2) Static Jenkins Server&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;DEFAULT_PASSWORD=mySecretPassWord123

jx install \
  --default-admin-password=${DEFAULT_PASSWORD} \
  --provider=&#39;gke&#39;
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Select Jenkins installation type:
&lt;ul&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Serverless Jenkins X Pipelines with Tekon&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Static Master Jenkins&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Pick default workload build pack
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Kubernetes Workloads: Automated CI+CD with GitOps Promotion&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Library Workloads: CI+Release but no CD&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;INFO[0465]Your Kubernetes context is now set to the namespace: jx
INFO[0465] To switch back to your original namespace use: jx namespace default

Access Static Jenkins Server through Domain with username and password
Domain http://jenkins.jx.11.22.33.44.nip.io/
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;uninstall&#34;&gt;Uninstall&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;jx uninstall
# rm -rf ~/.jx
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;setup-cicd-pipeline&#34;&gt;Setup CI/CD Pipeline&lt;/h3&gt;
&lt;p&gt;Create Quickstart Repository&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubectl get pods --namespace jx --watch
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;# cd workspace
jx create quickstart
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Options:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ select the quickstart you wish to create  [Use arrows to move, type to filter]
  aspnet-app
  dlang-http
&amp;gt; golang-http
  jenkins-cwp-quickstart
  jenkins-quickstart
  node-http

INFO[0121] Watch pipeline activity via:    jx get activity -f serverless-jenkins-quickstart -w
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Check log of the first run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx logs pipeline
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Add a setup step for pullrequest&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd serverless-jenkins-quickstart
jx create step --pipeline pullrequest \
  --lifecycle setup \
  --mode replace \
  --sh &amp;quot;echo hello world&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Validate pipeline step for each modification&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx step validate
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;A build-pack pod started after git push. Watch pod status with kubectl.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubectl get pods --namespace jx --watch
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Check Build Status on Prow (Serverless)&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://deck.jx.130.211.245.13.nip.io/&#34;&gt;http://deck.jx.130.211.245.13.nip.io/&lt;/a&gt;
Login with username and password&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Import Existing Repository&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# In source code repository
# Import jx to remote jenkins-server. This will apply a Jenkinsfile to repository by default
jx import \
--url git@github.com:chechiachang/serverless-jenkins-quickstart.git
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Update jenkins-x.yml&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx create step
git commit
git push
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Trouble Shooting: Failed to get jx resources&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx get pipelines
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Make sure your jx (or kubectl) context is with the correct GKE and namespace&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kc config set-context gke_my-project_asia-east1-b_jenkins \
  --namespace=jx
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;helm-vs-jenkins-x&#34;&gt;Helm vs Jenkins X&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/helm/charts/tree/master/stable/jenkins&#34;&gt;Jenkins Helm Chart&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;create Jenkins master and slave cluster on Kubernetes&lt;/li&gt;
&lt;li&gt;utilizing the Jenkins Kubernetes plugin.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Jenkin Platform with jx&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Jenkins Platform native to Kubernetes&lt;/li&gt;
&lt;li&gt;Powerful cloud native components: Prow, Nexus, Docker Registry, Tekton Pipeline, &amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;check-jenkins-x-examples&#34;&gt;Check jenkins-x examples&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jenkins-x-buildpacks/jenkins-x-kubernetes/tree/master/packs&#34;&gt;https://github.com/jenkins-x-buildpacks/jenkins-x-kubernetes/tree/master/packs&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;jx-client&#34;&gt;jx Client&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;jx get urls

Name                      URL
jenkins                   http://jenkins.jx.11.22.33.44.nip.io
jenkins-x-chartmuseum     http://chartmuseum.jx.11.22.33.44.nip.io
jenkins-x-docker-registry http://docker-registry.jx.11.22.33.44.nip.io
jenkins-x-monocular-api   http://monocular.jx.11.22.33.44.nip.io
jenkins-x-monocular-ui    http://monocular.jx.11.22.33.44.nip.io
nexus                     http://nexus.jx.11.22.33.44.nip.io
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Get Cluster Status&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx diagnose
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Get Applications &amp;amp; Pipelines&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx get applications
jx get pipelines
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Get CI Activities &amp;amp; build log&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx get activities
jx get activities --filter=&#39;jenkins-x-on-kubernetes&#39;

jx get build log

INFO[0003] view the log at: http://jenkins.jx.11.22.33.44.nip.io/job/chechiachang/job/jenkins-x-on-kubernetes/job/feature-add-test/3/console
...
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Trigger Build &amp;amp; Check Activity&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx start pipeline
jx start pipeline --filter=&#39;jenkins-x-on-kubernetes/feature-add-test&#39;

jx get activities --filter=&#39;jenkins-x-on-kubernetes&#39;
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;Create Pull Request&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;jx create pullrequest
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h4 id=&#34;summary&#34;&gt;Summary&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Demonstrate a Jenkins pipeline&lt;/li&gt;
&lt;li&gt;Jenkins plugin
&lt;ul&gt;
&lt;li&gt;master slave cluster&lt;/li&gt;
&lt;li&gt;kubernetes plugin&lt;/li&gt;
&lt;li&gt;lovely GUI&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;jx on k8s&lt;/li&gt;
&lt;li&gt;jx cli&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Jenkins 簡單用&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;設定與維護人力會比其他工具稍微多&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Jenkins 複雜用&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Deep Customization: 希望花時間打造最符合自己需求的工具&lt;/li&gt;
&lt;li&gt;預期有特殊需求&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Jenkins X&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;應用依賴 Kubernetes 開發，測試，部屬 (ex. kubernetes client-go)&lt;/li&gt;
&lt;li&gt;使用 jx 一站式服務&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;The End&lt;/p&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/jenkins/github-page-qrcode.png&#34; width=&#34;45%&#34; height=&#34;45%&#34; &gt;


&lt;/figure&gt;

</description>
    </item>
    
    <item>
      <title>CRI, OCI, CRI-O</title>
      <link>https://chechia.net/slides/container-runtime-interface/</link>
      <pubDate>Sun, 19 Aug 2018 18:00:35 +0800</pubDate>
      
      <guid>https://chechia.net/slides/container-runtime-interface/</guid>
      <description>&lt;p&gt;footer: Che-Chia David Chang, 2018,  &lt;a href=&#34;https://github.com/chechiachang&#34;&gt;https://github.com/chechiachang&lt;/a&gt;
slidenumbers: true&lt;/p&gt;
&lt;h1 id=&#34;cri-oci-cri-o&#34;&gt;CRI, OCI, CRI-O&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;David Chang DevOps @ Mithril
Back-End Developer, Kuberentes admin, DevOps&lt;/p&gt;
&lt;p&gt;


  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/davidchang.jpg&#34; &gt;


&lt;/figure&gt;




  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/mithril.jpg&#34; &gt;


&lt;/figure&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;outline&#34;&gt;Outline&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Container Runtime Interface (CRI)&lt;/li&gt;
&lt;li&gt;Open Container Initiative (OCI)&lt;/li&gt;
&lt;li&gt;CRI-O&lt;/li&gt;
&lt;li&gt;Kubernetes on CRI-O&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;


  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/cri-o.png&#34; &gt;


&lt;/figure&gt;




  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/kubernetes.png&#34; &gt;


&lt;/figure&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;trend-kubernetes&#34;&gt;Trend Kubernetes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Kubernetes 1.3 introduced rktnetes&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kubernetes 1.5 introduced CRI&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kubernetes 1.7 removed pre-CRI Docker / rkt integration&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Currently works Kubelet to use CRI&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CRI-O: released 1.0.x to match Kubernetes 1.7&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;nomination&#34;&gt;Nomination&lt;/h3&gt;
&lt;p&gt;CRI-O&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OCI-based implementation of Kubernetes Container Runtime Interface&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CRI&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Kubernetes Container Runtime Interface&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OCI&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Open Container initiative&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;projects-with-container-runtime&#34;&gt;Projects with Container Runtime&lt;/h3&gt;
&lt;p&gt;docker, rkt, LXC/LXD, runC, containerd, OpenVZ, systemd-nspawn, machinectl, qemu-kvm, lkvm&amp;hellip;&lt;/p&gt;
&lt;p&gt;Kubernetes (before 1.6) native supports&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Docker&lt;/li&gt;
&lt;li&gt;rkt&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;


  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/docker-angry.png&#34; &gt;


&lt;/figure&gt;




  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/rkt.png&#34; &gt;


&lt;/figure&gt;
&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;container-runtime-interfacecri&#34;&gt;Container Runtime Interface(CRI)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Enable Kubernetes to support more runtimes&lt;/li&gt;
&lt;li&gt;Free kubernetes to focus on orchestration from runtime integration&lt;/li&gt;
&lt;li&gt;Consists
&lt;ul&gt;
&lt;li&gt;a protocol buffers and gRPC API&lt;/li&gt;
&lt;li&gt;libraries, additional specifications and tools&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;container-runtime-interfacecri-1&#34;&gt;Container Runtime Interface(CRI)&lt;/h3&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/containerd.png&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;cri-api-in-kubernetes&#34;&gt;CRI api in kubernetes&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kubernetes/kubernetes/blob/master/pkg/kubelet/apis/cri/runtime/v1alpha2/api.proto&#34;&gt;https://github.com/kubernetes/kubernetes/
blob/master/pkg/kubelet/apis/
cri/runtime/v1alpha2/api.proto&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;cri-runtimes&#34;&gt;CRI runtimes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Docker CRI shim (cri-containerd)&lt;/li&gt;
&lt;li&gt;CoreOS &lt;a href=&#34;https://github.com/kubernetes-incubator/rktlet&#34;&gt;rktlet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/kubernetes/frakti&#34;&gt;frakti&lt;/a&gt;: hypervisor-based container runtimes&lt;/li&gt;
&lt;li&gt;Intel &lt;a href=&#34;https://github.com/clearcontainers/runtime&#34;&gt;Clear container&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;OpenStack &lt;a href=&#34;https://github.com/kata-containers/runtime&#34;&gt;kata runtime&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cri-o.io/&#34;&gt;cri-o&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;open-container-inititive-oci&#34;&gt;Open Container Inititive (OCI)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;open governance structure&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;container industry standards&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/opencontainers/runtime-spec/blob/master/spec.md&#34;&gt;runtime spec&lt;/a&gt; defines configuration, execution environment, and lifecycle of a container&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/opencontainers/image-spec/blob/master/spec.md&#34;&gt;image spec&lt;/a&gt; spec on archetecture and OS, filesystem layers and configuration&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;oci-from-aspect-of-user&#34;&gt;OCI from aspect of user&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Use all OCI-conplimant container runtime&lt;/li&gt;
&lt;li&gt;Use all OCI-complimant images registries&lt;/li&gt;
&lt;li&gt;Similar UX&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://www.opencontainers.org/blog/2018/06/20/cri-o-how-standards-power-a-container-runtime&#34;&gt;https://www.opencontainers.org/blog/2018/06/20/cri-o-how-standards-power-a-container-runtime&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;cri-o&#34;&gt;CRI-O&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;OCI-based implementation of Kubernetes Container Runtime Interface&lt;/li&gt;
&lt;li&gt;Kubernetes incubator project also part of the CNCF&lt;/li&gt;
&lt;li&gt;Dedicated for Kubernetes&lt;/li&gt;
&lt;li&gt;Enable CRI-O plugin to other runtimes&lt;/li&gt;
&lt;li&gt;Available on RHEL, Fedora, Centos, Ubuntu&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://cri-o.io/&#34;&gt;http://cri-o.io/&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;cri-o-vs-docker-containerd&#34;&gt;CRI-O vs Docker (containerd)&lt;/h3&gt;
&lt;p&gt;kubelet -&amp;gt; cri-containerd (shim) -&amp;gt; containerd -&amp;gt; runC -&amp;gt; container
kubelet -&amp;gt; cri-o -&amp;gt; runC -&amp;gt; container&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lightweight&lt;/li&gt;
&lt;li&gt;Stability
&lt;ul&gt;
&lt;li&gt;built for Kubernetes&lt;/li&gt;
&lt;li&gt;No cli, image utilities, &amp;hellip;&lt;/li&gt;
&lt;li&gt;No swarm, mesosphere integration, &amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/cri-o-arch.png&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h3 id=&#34;lets-use-cri-o&#34;&gt;Let&amp;rsquo;s use CRI-O&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/kubernetes-sigs/cri-o&#34;&gt;Install cri-o&lt;/a&gt; and dependencies, runC and CNI&lt;/li&gt;
&lt;li&gt;Install &lt;a href=&#34;https://github.com/containers/libpod&#34;&gt;Podman&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;Podman to cri-o as Docker-cli to Docker daemon&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;sudo podman run --name my-golang golang:alpine bash
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kubernetes/minikube/blob/master/docs/alternative_runtimes.md#using-cri-o&#34;&gt;Minikube&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;minikube start &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;  --network-plugin&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;cni &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;  --container-runtime&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;cri-o

minikube start &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;  --network-plugin&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;cni &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;  --extra-config&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;kubelet.container-runtime&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;remote &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;  --extra-config&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;kubelet.container-runtime-endpoint&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/var/run/crio/crio.sock &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;  --extra-config&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;kubelet.image-service-endpoint&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/var/run/crio/crio.sock
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id=&#34;run-kubernetes-on-cri-o&#34;&gt;Run Kubernetes on CRI-O&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kubernetes-incubator/kubespray/blob/master/docs/cri-o.md&#34;&gt;Kubespray&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubeadm_enabled: true
...
container_manager: crio
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&#34;https://github.com/kubernetes-sigs/cri-o/blob/master/kubernetes.md&#34;&gt;Full cluster&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubelet --container-runtime-endpoint=unix:///var/run/crio/crio.sock
...
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h3 id=&#34;references&#34;&gt;References&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://kubernetes.io/blog/2016/12/container-runtime-interface-cri-in-kubernetes/&#34;&gt;https://kubernetes.io/blog/2016/12/container-runtime-interface-cri-in-kubernetes/&lt;/a&gt;
&lt;a href=&#34;https://kubernetes.io/blog/2017/11/containerd-container-runtime-options-kubernetes/&#34;&gt;https://kubernetes.io/blog/2017/11/containerd-container-runtime-options-kubernetes/&lt;/a&gt;
Rttps://kubernetes.io/blog/2017/11/containerd-container-runtime-options-kubernetes/
&lt;a href=&#34;https://xuxinkun.github.io/2017/12/12/docker-oci-runc-and-kubernetes/&#34;&gt;https://xuxinkun.github.io/2017/12/12/docker-oci-runc-and-kubernetes/&lt;/a&gt;
&lt;a href=&#34;https://www.kubernetes.org.cn/1079.html&#34;&gt;https://www.kubernetes.org.cn/1079.html&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Github API with go-github</title>
      <link>https://chechia.net/slides/go-github/</link>
      <pubDate>Thu, 19 Apr 2018 18:00:35 +0800</pubDate>
      
      <guid>https://chechia.net/slides/go-github/</guid>
      <description>&lt;p&gt;footer: Che-Chia David Chang, 2018,  &lt;a href=&#34;https://github.com/chechiachang/my-speeches/tree/master/go-github&#34;&gt;https://github.com/chechiachang/my-speeches/tree/master/go-github&lt;/a&gt;
slidenumbers: true&lt;/p&gt;
&lt;h1 id=&#34;github-api-with-go-github&#34;&gt;Github API with Go-Github&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;David Chang
Back-End Developer, Kuberentes admin, DevOps&lt;/p&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/davidchang.jpg&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h1 id=&#34;outline&#34;&gt;Outline&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Let&amp;rsquo;s try Github API&lt;/li&gt;
&lt;li&gt;Use github API with go-github&lt;/li&gt;
&lt;li&gt;Work with limitation of github API&lt;/li&gt;
&lt;li&gt;An application of github user data&lt;/li&gt;
&lt;/ol&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/octocat.png&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h1 id=&#34;lets-try-github-api&#34;&gt;Let&amp;rsquo;s Try Github API&lt;/h1&gt;
&lt;p&gt;Get data of a user with username&lt;/p&gt;
&lt;p&gt;Web page&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/chechiachang&#34;&gt;https://github.com/chechiachang&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Api&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://api.github.com/users/chechiachang&#34;&gt;https://api.github.com/users/chechiachang&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/search?q=location:Taiwan+type:user&#34;&gt;https://github.com/search?q=location:Taiwan+type:user&lt;/a&gt;&lt;/p&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/go-github/github-api-search-bigbig.png&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;https://api.github.com/search/users?q=location:Taiwan&amp;amp;sort=followers&amp;amp;order=desc&#34;&gt;/users?q=location:Taiwan&amp;amp;sort=followers&amp;amp;order=desc&lt;/a&gt;&lt;/p&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/go-github/github-api-search-audreyt.png&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;https://developer.github.com/v3/search/#search-users&#34;&gt;Github Search User API Docs&lt;/a&gt;&lt;/p&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/go-github/github-api-search-user.png&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h1 id=&#34;github-api-authentication&#34;&gt;Github API Authentication&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Most API requires authentication&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.github.com/v3/#authentication&#34;&gt;https://developer.github.com/v3/#authentication&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Let&amp;rsquo;s generate api access token from web page&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;Github -&amp;gt; User -&amp;gt; settings -&amp;gt; Developer settings -&amp;gt; Personal access tokens&lt;/p&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/go-github/github-api-access-token.png&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h1 id=&#34;go-github&#34;&gt;Go-github&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Provide programmatic way to access APIs&lt;/li&gt;
&lt;li&gt;A client library for accessing github API in golang&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/google/go-github&#34;&gt;https://github.com/google/go-github&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/go-github/github-api-gogithub-auth.png&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/chechiachang/scouter/blob/master/github.go&#34;&gt;https://github.com/chechiachang/scouter/blob/master/github.go#L44&lt;/a&gt;&lt;/p&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/go-github/github-api-example.png&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h1 id=&#34;limitation-of-github-api&#34;&gt;Limitation of Github API&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;API paging limit: Search API only return first 1000 users&lt;/li&gt;
&lt;li&gt;API request limit
Search API 30 query / min
User API 50000 query / hour&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://api.github.com/search/users?q=location:taiwan+created:2008-01-01..2008-02-01&amp;amp;sort=joined&amp;amp;order=asc&#34;&gt;/users?q=location:taiwan+created:2008-01-01..2008-02-01&amp;amp;sort=joined&amp;amp;order=asc&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;work-with-limitation&#34;&gt;Work with limitation&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Paging limit: narrow down search query with time interval&lt;/li&gt;
&lt;li&gt;Control your requests rate
One of the easist ways is time.Sleep()&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/chechiachang/scouter/blob/master/cmd/user_fetcher/main.go&#34;&gt;https://github.com/chechiachang/scouter/blob/master/cmd/user_fetcher/main.go#L68&lt;/a&gt;&lt;/p&gt;



  




&lt;figure&gt;

&lt;img src=&#34;https://chechia.net/img/party_parrot.gif&#34; &gt;


&lt;/figure&gt;

&lt;hr&gt;
&lt;h1 id=&#34;application-user-data-miners&#34;&gt;Application: User Data Miners&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Use access token&lt;/li&gt;
&lt;li&gt;Add Query, SearchOption, Sort, Order, ListOption &amp;hellip;&lt;/li&gt;
&lt;li&gt;fetch user data with search API&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/chechiachang/scouter/blob/master/cmd/user_fetcher/main.go&#34;&gt;https://github.com/chechiachang/scouter/blob/master/cmd/user_fetcher/main.go&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;an-application-using-github-data&#34;&gt;An Application Using Github Data&lt;/h1&gt;
&lt;p&gt;Scouter &lt;a href=&#34;https://github.com/chechiachang/scouter&#34;&gt;https://github.com/chechiachang/scouter&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s Live Demo&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;an-application-using-github-data-1&#34;&gt;An Application Using Github Data&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;User Data Miners to fetch user details, avatars, and contribution&lt;/li&gt;
&lt;li&gt;Face detection &amp;amp; Face recognition&lt;/li&gt;
&lt;li&gt;Api server&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Video Stream -&amp;gt; Face Image -&amp;gt; Identify User -&amp;gt; User Data -&amp;gt; Show data&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Video Stream on COSCUP 2018&lt;/p&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/4SWO4x7bNjo?start=23633&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;hr&gt;
&lt;h1 id=&#34;the-end&#34;&gt;The end&lt;/h1&gt;
</description>
    </item>
    
    <item>
      <title>Scouter</title>
      <link>https://chechia.net/slides/coscup-2018-scouter/</link>
      <pubDate>Thu, 19 Apr 2018 18:00:35 +0800</pubDate>
      
      <guid>https://chechia.net/slides/coscup-2018-scouter/</guid>
      <description>&lt;p&gt;footer: Che-Chia David Chang, 2018,  &lt;a href=&#34;https://github.com/chechiachang/scouter&#34;&gt;https://github.com/chechiachang/scouter&lt;/a&gt;
slidenumbers: true&lt;/p&gt;
&lt;h1 id=&#34;scouter-face-recognition-contribution-detector&#34;&gt;Scouter: Face recognition contribution detector&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;David Chang
Back-End Developer, Kuberentes admin, DevOps&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../images/davidchang.jpg&#34; alt=&#34;inline&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;scouter-3-reasons-why&#34;&gt;Scouter: 3 reasons why&lt;/h1&gt;
&lt;p&gt;Garbage Talks with Linkers
Drangon Ball!
For COSCUP!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../images/5000.jpg&#34; alt=&#34;inline&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;lets-live-demo&#34;&gt;Let&amp;rsquo;s Live Demo!&lt;/h1&gt;
&lt;hr&gt;
&lt;h1 id=&#34;outline&#34;&gt;Outline&lt;/h1&gt;
&lt;p&gt;Data mining
Face detection &amp;amp; recognition&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../images/only5.jpg&#34; alt=&#34;inline&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;feature--architecture&#34;&gt;Feature &amp;amp; Architecture&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Face + Contributino           &amp;mdash;-&amp;gt; Github api + go-github (Golang)&lt;/li&gt;
&lt;li&gt;Face Recognitiion             &amp;mdash;-&amp;gt; Face detection api (Python)&lt;/li&gt;
&lt;li&gt;API server + Database         &amp;mdash;-&amp;gt; Flask + PyMongodb (Python)&lt;/li&gt;
&lt;li&gt;Webcam + AR + Face detection  &amp;mdash;-&amp;gt; Unity + face tracker (C#)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;face-and-user-data-mining&#34;&gt;Face and User Data Mining&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Download user data and avatar&lt;/li&gt;
&lt;li&gt;Fetch contribution statics&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://developer.github.com/v3/&#34;&gt;Github API&lt;/a&gt;
&lt;a href=&#34;https://github.com/google/go-github&#34;&gt;go-github&lt;/a&gt; (Api library in Golang)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../images/octocat.png&#34; alt=&#34;inline&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;4-data-miners-golang&#34;&gt;4 Data Miners (Golang)&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;User fetcher &amp;ndash; fetch user data with search API&lt;/li&gt;
&lt;li&gt;User detail fetcher &amp;ndash; fetch user detail with user API&lt;/li&gt;
&lt;li&gt;Avatar downloader &amp;ndash; fetch user&amp;rsquo;s avatar by user data&lt;/li&gt;
&lt;li&gt;Contribution fetcher &amp;ndash; parse github contribution HTML&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;notes-about-github-api&#34;&gt;Notes about Github API&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;API paging limit
Search API only return first 1000 users&lt;/li&gt;
&lt;li&gt;API request limit
Search API 30 query / min
User API 50000 query / hour&lt;/li&gt;
&lt;li&gt;Parallel request with Wait Group (Optional)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://api.github.com/search/users?q=location:taiwan+created:2008-01-01..2008-02-01&amp;amp;sort=joined&amp;amp;order=asc&#34;&gt;https://github.com/kubernetes/kubernetes/pull/66403&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;face-detection--face-recognition&#34;&gt;Face detection &amp;amp; Face recognition&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/ageitgey/face_recognition&#34;&gt;The world&amp;rsquo;s simplest facial recognition api&lt;/a&gt;
Data pre-processing -&amp;gt; Face encoding -&amp;gt; Face recognition&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../images/face_recognition.png&#34; alt=&#34;inline&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;face-detection--face-recognition-1&#34;&gt;Face detection &amp;amp; Face recognition&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Detect face from avatars&lt;/li&gt;
&lt;li&gt;Detect identities face image&lt;/li&gt;
&lt;li&gt;Store identities and userID in a &amp;lsquo;big&amp;rsquo; matrix&lt;/li&gt;
&lt;li&gt;Detect face from a unknown image&lt;/li&gt;
&lt;li&gt;Compare unknown face with matrix
find the distances between all face identities&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;api-server&#34;&gt;Api server&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Consume face image from App&lt;/li&gt;
&lt;li&gt;Detect face from image and recogniize user by face identity&lt;/li&gt;
&lt;li&gt;Get user data from DB and return to App&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;../images/flask.png&#34; alt=&#34;inline&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;app-workflow&#34;&gt;App Workflow&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Camera&lt;/td&gt;
&lt;td&gt;APP&lt;/td&gt;
&lt;td&gt;API server&lt;/td&gt;
&lt;td&gt;Face recognition&lt;/td&gt;
&lt;td&gt;DB&lt;/td&gt;
&lt;td&gt;API server&lt;/td&gt;
&lt;td&gt;App&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Video Stream&lt;/td&gt;
&lt;td&gt;Face Image&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Identify User&lt;/td&gt;
&lt;td&gt;User Data&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Show data&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h1 id=&#34;app-and-ar-unity&#34;&gt;App and AR unity&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://unity3d.com/&#34;&gt;Unity&lt;/a&gt; : build app and AR UI&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://opencv.org/&#34;&gt;OpenCV&lt;/a&gt; : image processing library&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://dlib.net/&#34;&gt;dlib&lt;/a&gt; : face recognition tools, models and algorithms&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;../images/unity.png&#34; alt=&#34;inline&#34;&gt; &lt;img src=&#34;../images/opencv.png&#34; alt=&#34;inline&#34;&gt; &lt;img src=&#34;../images/dlib.png&#34; alt=&#34;inline&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;unity-app&#34;&gt;Unity App&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Control camera&lt;/li&gt;
&lt;li&gt;Detect face on App-side with face tracker&lt;/li&gt;
&lt;li&gt;Cut and Send face to API server and get user data back&lt;/li&gt;
&lt;li&gt;Display user data to view&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;issues&#34;&gt;Issues&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Github data source
Nobody use their won face! 3000 human faces / 14000 avatars
Github avatar has very low resolution&lt;/li&gt;
&lt;li&gt;Face recognition API tuning required&lt;/li&gt;
&lt;li&gt;I&amp;rsquo;m a Unity and C# newbie ;)&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;『不是不準，只是正確機率不夠高。』
&amp;ndash;XD&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&#34;review&#34;&gt;Review&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Golang crawler &amp;amp; html parser&lt;/td&gt;
&lt;td&gt;Golang&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Github API&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Python Flask&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Face Recognition API&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Unity&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;OpenCvForUnity&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dlib shape predictor&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;C#&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h1 id=&#34;how-to-learn-anything-in-one-month&#34;&gt;How to learn anything in one Month&lt;/h1&gt;
&lt;p&gt;我想分享的是一個越級打怪，一邊快速成長的捷徑&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;#『去報 COSCUP ，講一個 session』&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;heading&#34;&gt;&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;『因為我自己想做，還有當初推坑我的人太厲害。』&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;../images/23000.jpg&#34; alt=&#34;inline&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;reviews&#34;&gt;Reviews&lt;/h1&gt;
&lt;p&gt;Scouter is relatively simple project. Do try this at home!&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;the-end&#34;&gt;The end&lt;/h1&gt;
&lt;p&gt;投影片及講稿 &lt;a href=&#34;https://github.com/chechiachang/my-speeches/tree/master/fr-ar-open-source-power-detector&#34;&gt;https://github.com/chechiachang/my-speeches/tree/master/fr-ar-open-source-power-detector&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Scouter 原始碼 &lt;a href=&#34;https://github.com/chechiachang/scouter&#34;&gt;https://github.com/chechiachang/scouter&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
