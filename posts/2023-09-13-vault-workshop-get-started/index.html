<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vault Workshop 02: Get Started | Che-Chia Chang</title><meta name=keywords content="vault,iac,workshop,terraform,鐵人賽2023,chatgpt"><meta name=description content="如果你希望追蹤最新的草稿，請見鐵人賽2023
本 workshop 也接受網友的許願清單，如果有興趣的題目可於第一篇底下留言，筆者會盡力實現，但不做任何保證
Day 02 準備：執行一個本地開發用途的 Vault
整篇 Workshop 會使用的範例與原始碼，放在 Github Repository: vault-playground
準備工作
在開始進行 Vault 30 天 workshop 之前，有一些準備工作需要完成：
步驟1：下載 Vault Binary
首先，你需要下載HashiCorp Vault的最新版本。你可以在HashiCorp的官方網站上找到Vault的下載鏈接。請確保下載適用於你操作系統的版本。
https://developer.hashicorp.com/vault/downloads

MacOS amd64
MacOS arm64
Linux

步驟2：安裝Vault
下載完成後，根據你的操作系統進行安裝。對於大多數Linux和Unix系統，你c可以通過解壓縮壓縮文件來安裝Vault。將Vault Binary文件移至你的PATH中，以便在終端中輕鬆訪問
筆者使用的是 Mac M1，使用以下指令進行安裝
wget https://releases.hashicorp.com/vault/1.14.3/vault_1.14.3_darwin_arm64.zip
unzip vault_1.14.3_darwin_arm64.zip

sudo mv vault /usr/local/bin/vault

Vault v1.14.3 (56debfa71653e72433345f23cd26276bc90629ce), built 2023-09-11T21:23:55Z

你不需要使用最新版本的 Vault 也可以完成這次 workshop
啟動 Vault server
使用以下指令在本地啟動 Vault Server。請確保 Vault 伺服器已正確啟動，並且未出現錯誤消息。
vault server -dev

使用 -dev 選項可以啟動Vault的開發模式，該模式不需要身份驗證即可運行Vault。"><meta name=author content="chechiachang"><link rel=canonical href=https://chechia.net/posts/2023-09-13-vault-workshop-get-started/><meta name=google-site-verification content="G-QYR8JCDGM9"><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://chechia.net/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://chechia.net/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://chechia.net/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://chechia.net/favicon/favicon-32x32.png><link rel=mask-icon href=https://chechia.net/favicon/favicon-32x32.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://chechia.net/posts/2023-09-13-vault-workshop-get-started/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://chechia.net/posts/2023-09-13-vault-workshop-get-started/"><meta property="og:site_name" content="Che-Chia Chang"><meta property="og:title" content="Vault Workshop 02: Get Started"><meta property="og:description" content="如果你希望追蹤最新的草稿，請見鐵人賽2023
本 workshop 也接受網友的許願清單，如果有興趣的題目可於第一篇底下留言，筆者會盡力實現，但不做任何保證
Day 02 準備：執行一個本地開發用途的 Vault 整篇 Workshop 會使用的範例與原始碼，放在 Github Repository: vault-playground
準備工作 在開始進行 Vault 30 天 workshop 之前，有一些準備工作需要完成：
步驟1：下載 Vault Binary
首先，你需要下載HashiCorp Vault的最新版本。你可以在HashiCorp的官方網站上找到Vault的下載鏈接。請確保下載適用於你操作系統的版本。
https://developer.hashicorp.com/vault/downloads
MacOS amd64 MacOS arm64 Linux 步驟2：安裝Vault
下載完成後，根據你的操作系統進行安裝。對於大多數Linux和Unix系統，你c可以通過解壓縮壓縮文件來安裝Vault。將Vault Binary文件移至你的PATH中，以便在終端中輕鬆訪問
筆者使用的是 Mac M1，使用以下指令進行安裝
wget https://releases.hashicorp.com/vault/1.14.3/vault_1.14.3_darwin_arm64.zip unzip vault_1.14.3_darwin_arm64.zip sudo mv vault /usr/local/bin/vault Vault v1.14.3 (56debfa71653e72433345f23cd26276bc90629ce), built 2023-09-11T21:23:55Z 你不需要使用最新版本的 Vault 也可以完成這次 workshop
啟動 Vault server 使用以下指令在本地啟動 Vault Server。請確保 Vault 伺服器已正確啟動，並且未出現錯誤消息。
vault server -dev 使用 -dev 選項可以啟動Vault的開發模式，該模式不需要身份驗證即可運行Vault。"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-13T21:42:26+08:00"><meta property="article:modified_time" content="2023-09-13T21:42:26+08:00"><meta property="article:tag" content="Vault"><meta property="article:tag" content="Iac"><meta property="article:tag" content="Workshop"><meta property="article:tag" content="Terraform"><meta property="article:tag" content="鐵人賽2023"><meta property="article:tag" content="Chatgpt"><meta property="og:image" content="https://chechia.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://chechia.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Vault Workshop 02: Get Started"><meta name=twitter:description content="如果你希望追蹤最新的草稿，請見鐵人賽2023
本 workshop 也接受網友的許願清單，如果有興趣的題目可於第一篇底下留言，筆者會盡力實現，但不做任何保證
Day 02 準備：執行一個本地開發用途的 Vault
整篇 Workshop 會使用的範例與原始碼，放在 Github Repository: vault-playground
準備工作
在開始進行 Vault 30 天 workshop 之前，有一些準備工作需要完成：
步驟1：下載 Vault Binary
首先，你需要下載HashiCorp Vault的最新版本。你可以在HashiCorp的官方網站上找到Vault的下載鏈接。請確保下載適用於你操作系統的版本。
https://developer.hashicorp.com/vault/downloads

MacOS amd64
MacOS arm64
Linux

步驟2：安裝Vault
下載完成後，根據你的操作系統進行安裝。對於大多數Linux和Unix系統，你c可以通過解壓縮壓縮文件來安裝Vault。將Vault Binary文件移至你的PATH中，以便在終端中輕鬆訪問
筆者使用的是 Mac M1，使用以下指令進行安裝
wget https://releases.hashicorp.com/vault/1.14.3/vault_1.14.3_darwin_arm64.zip
unzip vault_1.14.3_darwin_arm64.zip

sudo mv vault /usr/local/bin/vault

Vault v1.14.3 (56debfa71653e72433345f23cd26276bc90629ce), built 2023-09-11T21:23:55Z

你不需要使用最新版本的 Vault 也可以完成這次 workshop
啟動 Vault server
使用以下指令在本地啟動 Vault Server。請確保 Vault 伺服器已正確啟動，並且未出現錯誤消息。
vault server -dev

使用 -dev 選項可以啟動Vault的開發模式，該模式不需要身份驗證即可運行Vault。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://chechia.net/posts/"},{"@type":"ListItem","position":2,"name":"Vault Workshop 02: Get Started","item":"https://chechia.net/posts/2023-09-13-vault-workshop-get-started/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vault Workshop 02: Get Started","name":"Vault Workshop 02: Get Started","description":"如果你希望追蹤最新的草稿，請見鐵人賽2023\n本 workshop 也接受網友的許願清單，如果有興趣的題目可於第一篇底下留言，筆者會盡力實現，但不做任何保證\nDay 02 準備：執行一個本地開發用途的 Vault 整篇 Workshop 會使用的範例與原始碼，放在 Github Repository: vault-playground\n準備工作 在開始進行 Vault 30 天 workshop 之前，有一些準備工作需要完成：\n步驟1：下載 Vault Binary\n首先，你需要下載HashiCorp Vault的最新版本。你可以在HashiCorp的官方網站上找到Vault的下載鏈接。請確保下載適用於你操作系統的版本。\nhttps://developer.hashicorp.com/vault/downloads\nMacOS amd64 MacOS arm64 Linux 步驟2：安裝Vault\n下載完成後，根據你的操作系統進行安裝。對於大多數Linux和Unix系統，你c可以通過解壓縮壓縮文件來安裝Vault。將Vault Binary文件移至你的PATH中，以便在終端中輕鬆訪問\n筆者使用的是 Mac M1，使用以下指令進行安裝\nwget https://releases.hashicorp.com/vault/1.14.3/vault_1.14.3_darwin_arm64.zip unzip vault_1.14.3_darwin_arm64.zip sudo mv vault /usr/local/bin/vault Vault v1.14.3 (56debfa71653e72433345f23cd26276bc90629ce), built 2023-09-11T21:23:55Z 你不需要使用最新版本的 Vault 也可以完成這次 workshop\n啟動 Vault server 使用以下指令在本地啟動 Vault Server。請確保 Vault 伺服器已正確啟動，並且未出現錯誤消息。\nvault server -dev 使用 -dev 選項可以啟動Vault的開發模式，該模式不需要身份驗證即可運行Vault。\n","keywords":["vault","iac","workshop","terraform","鐵人賽2023","chatgpt"],"articleBody":"如果你希望追蹤最新的草稿，請見鐵人賽2023\n本 workshop 也接受網友的許願清單，如果有興趣的題目可於第一篇底下留言，筆者會盡力實現，但不做任何保證\nDay 02 準備：執行一個本地開發用途的 Vault 整篇 Workshop 會使用的範例與原始碼，放在 Github Repository: vault-playground\n準備工作 在開始進行 Vault 30 天 workshop 之前，有一些準備工作需要完成：\n步驟1：下載 Vault Binary\n首先，你需要下載HashiCorp Vault的最新版本。你可以在HashiCorp的官方網站上找到Vault的下載鏈接。請確保下載適用於你操作系統的版本。\nhttps://developer.hashicorp.com/vault/downloads\nMacOS amd64 MacOS arm64 Linux 步驟2：安裝Vault\n下載完成後，根據你的操作系統進行安裝。對於大多數Linux和Unix系統，你c可以通過解壓縮壓縮文件來安裝Vault。將Vault Binary文件移至你的PATH中，以便在終端中輕鬆訪問\n筆者使用的是 Mac M1，使用以下指令進行安裝\nwget https://releases.hashicorp.com/vault/1.14.3/vault_1.14.3_darwin_arm64.zip unzip vault_1.14.3_darwin_arm64.zip sudo mv vault /usr/local/bin/vault Vault v1.14.3 (56debfa71653e72433345f23cd26276bc90629ce), built 2023-09-11T21:23:55Z 你不需要使用最新版本的 Vault 也可以完成這次 workshop\n啟動 Vault server 使用以下指令在本地啟動 Vault Server。請確保 Vault 伺服器已正確啟動，並且未出現錯誤消息。\nvault server -dev 使用 -dev 選項可以啟動Vault的開發模式，該模式不需要身份驗證即可運行Vault。\n確認Vault運行 打開你的瀏覽器，瀏覽到 http://127.0.0.1:8200\n或者使用 curl 命令發送 GET 請求：\ncurl http://127.0.0.1:8200/v1/sys/health | jq { \"initialized\": true, \"sealed\": false, \"standby\": false, \"performance_standby\": false, \"replication_performance_mode\": \"disabled\", \"replication_dr_mode\": \"disabled\", \"server_time_utc\": 1694693898, \"version\": \"1.14.3\", \"cluster_name\": \"vault-cluster-3273d150\", \"cluster_id\": \"a32d555e-3346-0757-1d57-21e2f646aaf3\" } 如果Vault正常運行，你應該會收到一個包含Vault訊息的JSON response。\n也可使用 Vault Binary 來存取 Vault API\nexport Vault Server 的 http endpoint (我們尚未啟動 tls listener，所以沒有 https endpoint)\nexport VAULT_ADDR='http://127.0.0.1:8200' vault status Key Value --- ----- Seal Type shamir Initialized true Sealed false Total Shares 1 Threshold 1 Version 1.14.3 Build Date 2023-09-11T21:23:55Z Storage Type inmem Cluster Name vault-cluster-3273d150 Cluster ID a32d555e-3346-0757-1d57-21e2f646aaf3 HA Enabled false 可以看到本地的 Vault server\n已初始化 已解封 版本 未啟用 HA 也可以使用 Vault Binary 中的 operator 指令檢測\nvault operator members Host Name API Address Cluster Address Active Node Version Upgrade Version Redundancy Zone Last Echo --------- ----------- --------------- ----------- ------- --------------- --------------- --------- CheChias-MacBook-Pro.local http://127.0.0.1:8200 https://127.0.0.1:8201 true 1.14.3 n/a n/a n/a 初始化Vault 在開發模式下運行的Vault可能不需要初始化，但如果你使用的是 production 模式，請參考Vault的官方文檔，進行初始化和設置。\nVault server 在 dev 模式下啟動後，會自動產生一隻單一個 unseal key，與一把 Root Token。\nWARNING! dev mode is enabled! In this mode, Vault runs entirely in-memory and starts unsealed with a single unseal key. The root token is already authenticated to the CLI, so you can immediately begin using Vault. You may need to set the following environment variables: $ export VAULT_ADDR='http://127.0.0.1:8200' The unseal key and root token are displayed below in case you want to seal/unseal the Vault or re-authenticate. Unseal Key: JbKrVzhH4VO14nPBRvWE1qxJz9CVhnOFJT0pYLsx9LU= Root Token: hvs.0pmmzGSZ8S7w8vP2E4sm7SqE Development mode should NOT be used in production installations! 你可以使用 vault operator 指令，嘗試 seal Vault server\nvault operator seal Success! Vault is sealed. 再次檢查 status\nvault status Key Value --- ----- Seal Type shamir Initialized true Sealed true Total Shares 1 Threshold 1 Unseal Progress 0/1 Unseal Nonce n/a Version 1.14.3 Build Date 2023-09-11T21:23:55Z Storage Type inmem HA Enabled false 顯示為密鑰密封（Sealed）狀態\n你可以使用 vault operator 解封 Vault\nvault operator unseal JbKrVzhH4VO14nPBRvWE1qxJz9CVhnOFJT0pYLsx9LU= Key Value --- ----- Seal Type shamir Initialized true Sealed false Total Shares 1 Threshold 1 Version 1.14.3 Build Date 2023-09-11T21:23:55Z Storage Type inmem Cluster Name vault-cluster-3273d150 Cluster ID a32d555e-3346-0757-1d57-21e2f646aaf3 HA Enabled false 顯示為解封狀態\n密鑰安全 本 workshop 中使用的 vault server / seal key / root token 都是測試用途的暫時性存在，筆者寫完文章後，這些 server 與密鑰早已經清理完畢，所以沒有資安風險。\n為了示範方便，workshop 會以明碼 plain text 形式表現\n如果你是在公司的 production 環境使用，務必要確保密鑰的安全\n不要在 local 電腦上存放 token 或 seal key 不要在沒有密碼學與資安檢測的平台上儲存 token 或 seal key 不要透過通訊軟體(ex. slack) 明碼傳送 token 或 seal key … 你可能會問，本地不能存，遠端也不能存，也不能隨意傳送給同事，那應該如何協作與管理？\n在後面的 workshop 內容會與大家一一示範解說\nDev 模式 你可以關閉執行 vault server 的 terminal session 來關閉 vault server\nvault server -dev ctrl + c https://developer.hashicorp.com/vault/docs/concepts/dev-server\n“Dev” 伺服器模式\ndev 模式的伺服器不需要進一步的設定，且你本地的 vault CLI 已經被認證。這使得使用 Vault 或啟動用於開發的 Vault instance 變得容易。Vault 的每一個功能在 “dev” 模式中都是可用的。-dev flag 只是將很多設置簡化為不安全的默認值。\n警告：永遠、永遠、永遠不要在生產環境中運行 “dev” 模式伺服器。這是不安全的，且每次重新啟動都會丟失資料（因為它將資料存儲在記憶體中）。它僅供開發或實驗使用。\ndev 模式特性 dev 伺服器的屬性（有些可以使用命令行 flag 或指定配置文件來覆寫）：\n初始化且未封印: 伺服器將自動初始化且未封印。你不需要使用 vault operator unseal。它立即可用。\n記憶體存儲: 所有資料（加密後）都存儲在記憶體中。Vault 伺服器不需要任何檔案權限。\n綁定到本地地址而不使用 TLS: 伺服器正在監聽 127.0.0.1:8200（默認的伺服器地址）而不使用 TLS。\n自動認證: 伺服器存儲了你的 root access token，所以 vault CLI 存取已經準備好。如果你透過 API 存取 Vault，你需要使用打印出的 token 進行認證。\n單一解封鑰匙: 伺服器使用單一的 unseal key 進行初始化。Vault 已經是解封的，但如果你想嘗試 seal/unseal，那麼只需要輸出的單一鑰匙。\n安裝 key value storage: 在 secret/ 處安裝了一個 v2 KV secret engine。請注意 v1 KV 有所不同。如果你想使用 v1，使用此旗標 -dev-kv-v1。\n第一次存取 vault 資料 建立通用 Key-Value 存儲： 使用以下命令在 Vault 中創建通用的 Key-Value 存儲。在這個例子中，我們將使用 secrets 作為存儲的路徑，你可以根據你的需求自行命名存儲路徑：\nvault kv put secret/mysecrets username=admin password=secretpassword 這個命令將在 Vault 中創建一個 Key-Value 存儲，其中包含一對 Key value pair，分別是 username 和 password。\n檢索存儲的值： 你可以使用以下命令檢索存儲中的值：\nvault kv get secret/mysecrets 這個命令將返回存儲中的所有 Key Value pair。\n更新存儲的值： 如果你需要更新存儲中的值，可以使用以下命令：\nvault kv put secret/mysecrets password=newsecretpassword 這個命令將更新存儲中的 password 鍵的值。\n刪除存儲的值： 若要刪除存儲中的值，可以使用以下命令：\nvault kv delete secret/mysecrets 這個命令將刪除整個存儲路徑及其內容\n關於 kv-v2 dev 模式下，Vault server 自動在 secret/ 處安裝了一個 v2 KV secret engine\nVault中的不同秘密引擎（Secret Engine）提供了不同的功能和特性。本次 workshop 會以最新，功能也最多元的 kv-v2 Secret Engine 為主。\n以下是三種常見的秘密引擎（generic、kv v1 和 kv v2）之間的主要區別：\nGeneric Secrets Engine（通用秘密引擎） 特性： 通用秘密引擎是你的最簡單的引擎之一，它允許你存儲和檢索通用的 Key Value Secret，這些 Secret 不需要特定的結構或格式。\n用法： 通用秘密引擎適用於簡單的秘密存儲需求，其中 Secret 可以是任何形式的數據。你可以使用通用秘密引擎來存儲API金鑰、密碼、配置信息等。\nKey-Value (KV) Version 1 Secrets Engine（KV v1 秘密引擎） 特性： KV v1秘密引擎引入了一個有層次結構的鍵值存儲，允許你組織和版本控制儲存的 Secret。它具有 Secret 版本控制功能，可以保存多個版本的 Secret。\n用法： KV v1引擎適用於需要有組織結構並希望保留秘密版本的情況。它可以用於存儲配置信息、TLS證書、API金鑰等。\nKey-Value (KV) Version 2 Secrets Engine（KV v2 秘密引擎） 特性： KV v2秘密引擎是KV v1的進化版本，它引入了更強大的特性，如可配置的 Secret Data type（如字符串、list 和 dict），並可設置的多版本的 Secret 存儲。\n用法： KV v2引擎適用於更複雜的秘密管理需求，其中秘密可能具有不同的數據類型，並且需要更靈活的版本管理。它也用於配置信息、TLS證書、API金鑰等。\n總結來說，通用秘密引擎適用於簡單的秘密存儲，而KV v1和KV v2秘密引擎適用於更複雜的秘密管理需求，具有更多的組織和版本控制功能。在選擇引擎時，請考慮你的具體需求和Vault的配置。通常，KV v2引擎是較新和更靈活的選擇，但根據你的情況，也可以考慮使用其他引擎。\ndev 使用情境 dev 伺服器應該用於實驗 Vault 的功能，例如不同的認證方法、Secret engine、audit device 等。\n除了實驗，dev 伺服器對於開發環境的自動化非常容易。\n小結 通過執行這些步驟，你可以確保本地安裝的 Vault Binary 正常運行。\n請注意，Vault的實際配置和使用將根據你的需求和環境而有所不同，這些步驟主要用於確保Vault的基本功能正常運行。在 production 環境中，你需要更多的配置和安全性措施。\n","wordCount":"696","inLanguage":"en","image":"https://chechia.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-09-13T21:42:26+08:00","dateModified":"2023-09-13T21:42:26+08:00","author":{"@type":"Person","name":"chechiachang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://chechia.net/posts/2023-09-13-vault-workshop-get-started/"},"publisher":{"@type":"Organization","name":"Che-Chia Chang","logo":{"@type":"ImageObject","url":"https://chechia.net/favicon/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://chechia.net/ accesskey=h title="Home (Alt + H)"><img src=https://chechia.net/favicon/favicon-32x32.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://chechia.net/#posts title=Posts><span>Posts</span></a></li><li><a href=https://www.instagram.com/c.c.leather/ title=Leather><span>Leather</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://www.instagram.com/dive.with.cat.coach/ title=Scuba><span>Scuba</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://mvp.microsoft.com/zh-TW/mvp/profile/e407d0b9-5c01-eb11-a815-000d3a8ccaf5 title=MVP><span>MVP</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://chechia.net/categories/ title=categories><span>categories</span></a></li><li><a href=https://chechia.net/tags/ title=tags><span>tags</span></a></li><li><a href=https://chechia.net/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://chechia.net/>Home</a>&nbsp;»&nbsp;<a href=https://chechia.net/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Vault Workshop 02: Get Started</h1><div class=post-meta><span title='2023-09-13 21:42:26 +0800 CST'>September 13, 2023</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;696 words&nbsp;·&nbsp;chechiachang&nbsp;|&nbsp;<a href=https://github.com/chechiachang.github.io-src/content/posts/2023-09-13-vault-workshop-get-started/index.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li><a href=#準備工作>準備工作</a></li><li><a href=#啟動-vault-server>啟動 Vault server</a></li><li><a href=#確認vault運行>確認Vault運行</a></li><li><a href=#初始化vault>初始化Vault</a></li><li><a href=#密鑰安全>密鑰安全</a></li><li><a href=#dev-模式>Dev 模式</a></li><li><a href=#dev-模式特性>dev 模式特性</a></li><li><a href=#第一次存取-vault-資料>第一次存取 vault 資料</a></li><li><a href=#關於-kv-v2>關於 kv-v2</a></li><li><a href=#generic-secrets-engine通用秘密引擎>Generic Secrets Engine（通用秘密引擎）</a></li><li><a href=#key-value-kv-version-1-secrets-enginekv-v1-秘密引擎>Key-Value (KV) Version 1 Secrets Engine（KV v1 秘密引擎）</a></li><li><a href=#key-value-kv-version-2-secrets-enginekv-v2-秘密引擎>Key-Value (KV) Version 2 Secrets Engine（KV v2 秘密引擎）</a></li><li><a href=#dev-使用情境>dev 使用情境</a></li><li><a href=#小結>小結</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p>如果你希望追蹤最新的草稿，請見<a href=https://chechia.net/zh-hant/tag/%E9%90%B5%E4%BA%BA%E8%B3%BD2023/>鐵人賽2023</a></p><p>本 workshop 也接受網友的許願清單，<a href=https://ithelp.ithome.com.tw/articles/10317378>如果有興趣的題目可於第一篇底下留言</a>，筆者會盡力實現，但不做任何保證</p><h1 id=day-02-準備執行一個本地開發用途的-vault>Day 02 準備：執行一個本地開發用途的 Vault<a hidden class=anchor aria-hidden=true href=#day-02-準備執行一個本地開發用途的-vault>#</a></h1><p>整篇 Workshop 會使用的範例與原始碼，放在 <a href=http://chechia.net/zh-hant/#projects>Github Repository: vault-playground</a></p><h3 id=準備工作>準備工作<a hidden class=anchor aria-hidden=true href=#準備工作>#</a></h3><p>在開始進行 Vault 30 天 workshop 之前，有一些準備工作需要完成：</p><p>步驟1：下載 Vault Binary</p><p>首先，你需要下載HashiCorp Vault的最新版本。你可以在HashiCorp的官方網站上找到Vault的下載鏈接。請確保下載適用於你操作系統的版本。</p><p><a href=https://developer.hashicorp.com/vault/downloads>https://developer.hashicorp.com/vault/downloads</a></p><ul><li><a href=https://releases.hashicorp.com/vault/1.14.3/vault_1.14.3_darwin_amd64.zip>MacOS amd64</a></li><li><a href=https://releases.hashicorp.com/vault/1.14.3/vault_1.14.3_darwin_arm64.zip>MacOS arm64</a></li><li><a href=https://releases.hashicorp.com/vault/1.14.3/vault_1.14.3_linux_amd64.zip>Linux</a></li></ul><p>步驟2：安裝Vault</p><p>下載完成後，根據你的操作系統進行安裝。對於大多數Linux和Unix系統，你c可以通過解壓縮壓縮文件來安裝Vault。將Vault Binary文件移至你的PATH中，以便在終端中輕鬆訪問</p><p>筆者使用的是 Mac M1，使用以下指令進行安裝</p><pre><code class=language-bash>wget https://releases.hashicorp.com/vault/1.14.3/vault_1.14.3_darwin_arm64.zip
unzip vault_1.14.3_darwin_arm64.zip

sudo mv vault /usr/local/bin/vault

Vault v1.14.3 (56debfa71653e72433345f23cd26276bc90629ce), built 2023-09-11T21:23:55Z
</code></pre><p>你不需要使用最新版本的 Vault 也可以完成這次 workshop</p><h3 id=啟動-vault-server>啟動 Vault server<a hidden class=anchor aria-hidden=true href=#啟動-vault-server>#</a></h3><p>使用以下指令在本地啟動 Vault Server。請確保 Vault 伺服器已正確啟動，並且未出現錯誤消息。</p><pre><code class=language-bash>vault server -dev
</code></pre><p>使用 -dev 選項可以啟動Vault的開發模式，該模式不需要身份驗證即可運行Vault。</p><h3 id=確認vault運行>確認Vault運行<a hidden class=anchor aria-hidden=true href=#確認vault運行>#</a></h3><p>打開你的瀏覽器，瀏覽到 http://127.0.0.1:8200</p><p><img loading=lazy src=/posts/2023-09-13-vault-workshop-get-started/vault-ui.jpeg></p><p>或者使用 curl 命令發送 GET 請求：</p><pre><code class=language-bash>curl http://127.0.0.1:8200/v1/sys/health | jq

{
  &quot;initialized&quot;: true,
  &quot;sealed&quot;: false,
  &quot;standby&quot;: false,
  &quot;performance_standby&quot;: false,
  &quot;replication_performance_mode&quot;: &quot;disabled&quot;,
  &quot;replication_dr_mode&quot;: &quot;disabled&quot;,
  &quot;server_time_utc&quot;: 1694693898,
  &quot;version&quot;: &quot;1.14.3&quot;,
  &quot;cluster_name&quot;: &quot;vault-cluster-3273d150&quot;,
  &quot;cluster_id&quot;: &quot;a32d555e-3346-0757-1d57-21e2f646aaf3&quot;
}
</code></pre><p>如果Vault正常運行，你應該會收到一個包含Vault訊息的JSON response。</p><p>也可使用 Vault Binary 來存取 Vault API</p><p>export Vault Server 的 http endpoint (我們尚未啟動 tls listener，所以沒有 https endpoint)</p><pre><code class=language-bash>export VAULT_ADDR='http://127.0.0.1:8200'
</code></pre><pre><code class=language-bash>vault status

Key             Value
---             -----
Seal Type       shamir
Initialized     true
Sealed          false
Total Shares    1
Threshold       1
Version         1.14.3
Build Date      2023-09-11T21:23:55Z
Storage Type    inmem
Cluster Name    vault-cluster-3273d150
Cluster ID      a32d555e-3346-0757-1d57-21e2f646aaf3
HA Enabled      false
</code></pre><p>可以看到本地的 Vault server</p><ul><li>已初始化</li><li>已解封</li><li>版本</li><li>未啟用 HA</li></ul><p>也可以使用 Vault Binary 中的 operator 指令檢測</p><pre><code class=language-bash>vault operator members

Host Name                     API Address              Cluster Address           Active Node    Version    Upgrade Version    Redundancy Zone    Last Echo
---------                     -----------              ---------------           -----------    -------    ---------------    ---------------    ---------
CheChias-MacBook-Pro.local    http://127.0.0.1:8200    https://127.0.0.1:8201    true           1.14.3     n/a                n/a                n/a
</code></pre><h3 id=初始化vault>初始化Vault<a hidden class=anchor aria-hidden=true href=#初始化vault>#</a></h3><p>在開發模式下運行的Vault可能不需要初始化，但如果你使用的是 production 模式，請參考Vault的官方文檔，進行初始化和設置。</p><p>Vault server 在 dev 模式下啟動後，會自動產生一隻單一個 unseal key，與一把 Root Token。</p><pre><code class=language-bash>WARNING! dev mode is enabled! In this mode, Vault runs entirely in-memory
and starts unsealed with a single unseal key. The root token is already
authenticated to the CLI, so you can immediately begin using Vault.

You may need to set the following environment variables:

    $ export VAULT_ADDR='http://127.0.0.1:8200'

The unseal key and root token are displayed below in case you want to
seal/unseal the Vault or re-authenticate.

Unseal Key: JbKrVzhH4VO14nPBRvWE1qxJz9CVhnOFJT0pYLsx9LU=
Root Token: hvs.0pmmzGSZ8S7w8vP2E4sm7SqE

Development mode should NOT be used in production installations!
</code></pre><p>你可以使用 vault operator 指令，嘗試 seal Vault server</p><pre><code class=language-bash>vault operator seal

Success! Vault is sealed.
</code></pre><p>再次檢查 status</p><pre><code class=language-bash>vault status

Key                Value
---                -----
Seal Type          shamir
Initialized        true
Sealed             true
Total Shares       1
Threshold          1
Unseal Progress    0/1
Unseal Nonce       n/a
Version            1.14.3
Build Date         2023-09-11T21:23:55Z
Storage Type       inmem
HA Enabled         false
</code></pre><p>顯示為密鑰密封（Sealed）狀態</p><p>你可以使用 vault operator 解封 Vault</p><pre><code class=language-bash>vault operator unseal JbKrVzhH4VO14nPBRvWE1qxJz9CVhnOFJT0pYLsx9LU=

Key             Value
---             -----
Seal Type       shamir
Initialized     true
Sealed          false
Total Shares    1
Threshold       1
Version         1.14.3
Build Date      2023-09-11T21:23:55Z
Storage Type    inmem
Cluster Name    vault-cluster-3273d150
Cluster ID      a32d555e-3346-0757-1d57-21e2f646aaf3
HA Enabled      false
</code></pre><p>顯示為解封狀態</p><h3 id=密鑰安全>密鑰安全<a hidden class=anchor aria-hidden=true href=#密鑰安全>#</a></h3><p>本 workshop 中使用的 vault server / seal key / root token 都是測試用途的暫時性存在，筆者寫完文章後，這些 server 與密鑰早已經清理完畢，所以沒有資安風險。</p><p>為了示範方便，workshop 會以明碼 plain text 形式表現</p><p>如果你是在公司的 production 環境使用，務必要確保密鑰的安全</p><ul><li>不要在 local 電腦上存放 token 或 seal key</li><li>不要在沒有密碼學與資安檢測的平台上儲存 token 或 seal key</li><li>不要透過通訊軟體(ex. slack) 明碼傳送 token 或 seal key
&mldr;</li></ul><p>你可能會問，本地不能存，遠端也不能存，也不能隨意傳送給同事，那應該如何協作與管理？</p><p>在後面的 workshop 內容會與大家一一示範解說</p><h3 id=dev-模式>Dev 模式<a hidden class=anchor aria-hidden=true href=#dev-模式>#</a></h3><p>你可以關閉執行 vault server 的 terminal session 來關閉 vault server</p><pre><code class=language-bash>vault server -dev

ctrl + c
</code></pre><p><a href=https://developer.hashicorp.com/vault/docs/concepts/dev-server>https://developer.hashicorp.com/vault/docs/concepts/dev-server</a></p><p>&ldquo;Dev&rdquo; 伺服器模式</p><p>dev 模式的伺服器不需要進一步的設定，且你本地的 vault CLI 已經被認證。這使得使用 Vault 或啟動用於開發的 Vault instance 變得容易。Vault 的每一個功能在 &ldquo;dev&rdquo; 模式中都是可用的。-dev flag 只是將很多設置簡化為不安全的默認值。</p><p>警告：永遠、永遠、永遠不要在生產環境中運行 &ldquo;dev&rdquo; 模式伺服器。這是不安全的，且每次重新啟動都會丟失資料（因為它將資料存儲在記憶體中）。它僅供開發或實驗使用。</p><h3 id=dev-模式特性>dev 模式特性<a hidden class=anchor aria-hidden=true href=#dev-模式特性>#</a></h3><p>dev 伺服器的屬性（有些可以使用命令行 flag 或指定配置文件來覆寫）：</p><p>初始化且未封印: 伺服器將自動初始化且未封印。你不需要使用 vault operator unseal。它立即可用。</p><p>記憶體存儲: 所有資料（加密後）都存儲在記憶體中。Vault 伺服器不需要任何檔案權限。</p><p>綁定到本地地址而不使用 TLS: 伺服器正在監聽 127.0.0.1:8200（默認的伺服器地址）而不使用 TLS。</p><p>自動認證: 伺服器存儲了你的 root access token，所以 vault CLI 存取已經準備好。如果你透過 API 存取 Vault，你需要使用打印出的 token 進行認證。</p><p>單一解封鑰匙: 伺服器使用單一的 unseal key 進行初始化。Vault 已經是解封的，但如果你想嘗試 seal/unseal，那麼只需要輸出的單一鑰匙。</p><p>安裝 key value storage: 在 secret/ 處安裝了一個 v2 KV secret engine。請注意 v1 KV 有所不同。如果你想使用 v1，使用此旗標 -dev-kv-v1。</p><h3 id=第一次存取-vault-資料>第一次存取 vault 資料<a hidden class=anchor aria-hidden=true href=#第一次存取-vault-資料>#</a></h3><p>建立通用 Key-Value 存儲： 使用以下命令在 Vault 中創建通用的 Key-Value 存儲。在這個例子中，我們將使用 secrets 作為存儲的路徑，你可以根據你的需求自行命名存儲路徑：</p><pre><code class=language-bash>vault kv put secret/mysecrets username=admin password=secretpassword
</code></pre><p>這個命令將在 Vault 中創建一個 Key-Value 存儲，其中包含一對 Key value pair，分別是 username 和 password。</p><p>檢索存儲的值： 你可以使用以下命令檢索存儲中的值：</p><pre><code class=language-bash>vault kv get secret/mysecrets
</code></pre><p>這個命令將返回存儲中的所有 Key Value pair。</p><p>更新存儲的值： 如果你需要更新存儲中的值，可以使用以下命令：</p><pre><code class=language-bash>vault kv put secret/mysecrets password=newsecretpassword
</code></pre><p>這個命令將更新存儲中的 password 鍵的值。</p><p>刪除存儲的值： 若要刪除存儲中的值，可以使用以下命令：</p><pre><code class=language-bash>vault kv delete secret/mysecrets
</code></pre><p>這個命令將刪除整個存儲路徑及其內容</p><h3 id=關於-kv-v2>關於 kv-v2<a hidden class=anchor aria-hidden=true href=#關於-kv-v2>#</a></h3><p>dev 模式下，Vault server 自動在 secret/ 處安裝了一個 v2 KV secret engine</p><p>Vault中的不同秘密引擎（Secret Engine）提供了不同的功能和特性。本次 workshop 會以最新，功能也最多元的 kv-v2 Secret Engine 為主。</p><p>以下是三種常見的秘密引擎（generic、kv v1 和 kv v2）之間的主要區別：</p><h3 id=generic-secrets-engine通用秘密引擎>Generic Secrets Engine（通用秘密引擎）<a hidden class=anchor aria-hidden=true href=#generic-secrets-engine通用秘密引擎>#</a></h3><p>特性： 通用秘密引擎是你的最簡單的引擎之一，它允許你存儲和檢索通用的 Key Value Secret，這些 Secret 不需要特定的結構或格式。</p><p>用法： 通用秘密引擎適用於簡單的秘密存儲需求，其中 Secret 可以是任何形式的數據。你可以使用通用秘密引擎來存儲API金鑰、密碼、配置信息等。</p><h3 id=key-value-kv-version-1-secrets-enginekv-v1-秘密引擎>Key-Value (KV) Version 1 Secrets Engine（KV v1 秘密引擎）<a hidden class=anchor aria-hidden=true href=#key-value-kv-version-1-secrets-enginekv-v1-秘密引擎>#</a></h3><p>特性： KV v1秘密引擎引入了一個有層次結構的鍵值存儲，允許你組織和版本控制儲存的 Secret。它具有 Secret 版本控制功能，可以保存多個版本的 Secret。</p><p>用法： KV v1引擎適用於需要有組織結構並希望保留秘密版本的情況。它可以用於存儲配置信息、TLS證書、API金鑰等。</p><h3 id=key-value-kv-version-2-secrets-enginekv-v2-秘密引擎>Key-Value (KV) Version 2 Secrets Engine（KV v2 秘密引擎）<a hidden class=anchor aria-hidden=true href=#key-value-kv-version-2-secrets-enginekv-v2-秘密引擎>#</a></h3><p>特性： KV v2秘密引擎是KV v1的進化版本，它引入了更強大的特性，如可配置的 Secret Data type（如字符串、list 和 dict），並可設置的多版本的 Secret 存儲。</p><p>用法： KV v2引擎適用於更複雜的秘密管理需求，其中秘密可能具有不同的數據類型，並且需要更靈活的版本管理。它也用於配置信息、TLS證書、API金鑰等。</p><p>總結來說，通用秘密引擎適用於簡單的秘密存儲，而KV v1和KV v2秘密引擎適用於更複雜的秘密管理需求，具有更多的組織和版本控制功能。在選擇引擎時，請考慮你的具體需求和Vault的配置。通常，KV v2引擎是較新和更靈活的選擇，但根據你的情況，也可以考慮使用其他引擎。</p><h3 id=dev-使用情境>dev 使用情境<a hidden class=anchor aria-hidden=true href=#dev-使用情境>#</a></h3><p>dev 伺服器應該用於實驗 Vault 的功能，例如不同的認證方法、Secret engine、audit device 等。</p><p>除了實驗，dev 伺服器對於開發環境的自動化非常容易。</p><h3 id=小結>小結<a hidden class=anchor aria-hidden=true href=#小結>#</a></h3><p>通過執行這些步驟，你可以確保本地安裝的 Vault Binary 正常運行。</p><p>請注意，Vault的實際配置和使用將根據你的需求和環境而有所不同，這些步驟主要用於確保Vault的基本功能正常運行。在 production 環境中，你需要更多的配置和安全性措施。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://chechia.net/tags/vault/>Vault</a></li><li><a href=https://chechia.net/tags/iac/>Iac</a></li><li><a href=https://chechia.net/tags/workshop/>Workshop</a></li><li><a href=https://chechia.net/tags/terraform/>Terraform</a></li><li><a href=https://chechia.net/tags/%E9%90%B5%E4%BA%BA%E8%B3%BD2023/>鐵人賽2023</a></li><li><a href=https://chechia.net/tags/chatgpt/>Chatgpt</a></li></ul><nav class=paginav><a class=prev href=https://chechia.net/posts/2023-09-14-vault-workshop-secret-engine/><span class=title>« Prev</span><br><span>Vault Workshop 03: Secret Engine</span>
</a><a class=next href=https://chechia.net/posts/2023-09-12-vault-workshop-introduction/><span class=title>Next »</span><br><span>Vault Workshop 01: Introduction</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Vault Workshop 02: Get Started on x" href="https://x.com/intent/tweet/?text=Vault%20Workshop%2002%3a%20Get%20Started&amp;url=https%3a%2f%2fchechia.net%2fposts%2f2023-09-13-vault-workshop-get-started%2f&amp;hashtags=vault%2ciac%2cworkshop%2cterraform%2c%e9%90%b5%e4%ba%ba%e8%b3%bd2023%2cchatgpt"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vault Workshop 02: Get Started on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fchechia.net%2fposts%2f2023-09-13-vault-workshop-get-started%2f&amp;title=Vault%20Workshop%2002%3a%20Get%20Started&amp;summary=Vault%20Workshop%2002%3a%20Get%20Started&amp;source=https%3a%2f%2fchechia.net%2fposts%2f2023-09-13-vault-workshop-get-started%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vault Workshop 02: Get Started on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fchechia.net%2fposts%2f2023-09-13-vault-workshop-get-started%2f&title=Vault%20Workshop%2002%3a%20Get%20Started"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vault Workshop 02: Get Started on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fchechia.net%2fposts%2f2023-09-13-vault-workshop-get-started%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vault Workshop 02: Get Started on whatsapp" href="https://api.whatsapp.com/send?text=Vault%20Workshop%2002%3a%20Get%20Started%20-%20https%3a%2f%2fchechia.net%2fposts%2f2023-09-13-vault-workshop-get-started%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vault Workshop 02: Get Started on telegram" href="https://telegram.me/share/url?text=Vault%20Workshop%2002%3a%20Get%20Started&amp;url=https%3a%2f%2fchechia.net%2fposts%2f2023-09-13-vault-workshop-get-started%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Vault Workshop 02: Get Started on ycombinator" href="https://news.ycombinator.com/submitlink?t=Vault%20Workshop%2002%3a%20Get%20Started&u=https%3a%2f%2fchechia.net%2fposts%2f2023-09-13-vault-workshop-get-started%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://chechia.net/>Che-Chia Chang</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>