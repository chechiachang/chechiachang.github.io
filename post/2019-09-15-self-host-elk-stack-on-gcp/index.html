
<!DOCTYPE html>
<html
  lang="en"
  data-figures=""
  
    class="page"
  
  
  >
  <head>
<title>Self-host ELK stack - Installation | Che-Chia Chang</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-169903302-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-169903302-1');
</script>



<meta property="og:locale" content="en" />

<meta property="og:type" content="article">
<meta name="description" content="2020 It邦幫忙鐵人賽 系列文章
Self-host ELK stack on GCP Secure ELK Stask 監測 Google Compute Engine 上服務的各項數據 監測 Google Kubernetes Engine 的各項數據 是否選擇 ELK 作為解決方案 使用 logstash …" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@chechiachang">
<meta name="twitter:title" content="Self-host ELK stack - Installation" />
<meta name="twitter:image" content="https://chechia.net/images/logos/white_logo_dark_background.jpg"/>
<meta property="og:url" content="https://chechia.net/post/2019-09-15-self-host-elk-stack-on-gcp/" />
<meta property="og:title" content="Self-host ELK stack - Installation" />
<meta property="og:description" content="2020 It邦幫忙鐵人賽 系列文章
Self-host ELK stack on GCP Secure ELK Stask 監測 Google Compute Engine 上服務的各項數據 監測 Google Kubernetes Engine 的各項數據 是否選擇 ELK 作為解決方案 使用 logstash …" />
<meta property="og:image" content="https://chechia.net/images/logos/white_logo_dark_background.jpg" />

<link rel="apple-touch-icon" sizes="180x180" href="https://chechia.net/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://chechia.net/icons/favicon-32x32.png">
<link rel="manifest" href="https://chechia.net/icons/site.webmanifest">

<link rel="canonical" href="https://chechia.net/post/2019-09-15-self-host-elk-stack-on-gcp/">



<link rel="preload" href="https://chechia.net/css/styles.42e2c5f6d8cf9c52872666f8d8b2678ad0c426978b9d78aff3c33b7a1e7f6f97f54bcdaf0518a25fb0fe26367d04f8b07c683b3b38b331cb098daadee06b1f3e.css" integrity = "sha512-QuLF9tjPnFKHJmb42LJnitDEJpeLnXiv88M7eh5/b5f1S82vBRiiX7D&#43;JjZ9BPiwfGg7OzizMcsJjare4GsfPg==" as="style" crossorigin="anonymous">



<link rel="preload" href="https://chechia.net/en/js/bundle.6703cf5a19523ed401d8d9e012876ed46642e5b6019e567fb9fe7ad6f46ba535d6a1293fe06a8dfd091cf068a6f11fc605273b8b06177a6d0c09579ab0400cf5.js" as="script" integrity=
"sha512-ZwPPWhlSPtQB2NngEodu1GZC5bYBnlZ/uf561vRrpTXWoSk/4GqN/Qkc8Gim8R/GBSc7iwYXem0MCVeasEAM9Q==" crossorigin="anonymous">


<link rel="stylesheet" type="text/css" href="https://chechia.net/css/styles.42e2c5f6d8cf9c52872666f8d8b2678ad0c426978b9d78aff3c33b7a1e7f6f97f54bcdaf0518a25fb0fe26367d04f8b07c683b3b38b331cb098daadee06b1f3e.css" integrity="sha512-QuLF9tjPnFKHJmb42LJnitDEJpeLnXiv88M7eh5/b5f1S82vBRiiX7D&#43;JjZ9BPiwfGg7OzizMcsJjare4GsfPg==" crossorigin="anonymous">


  </head>
  <body
    data-code="7"
    data-lines="false"
    id="documentTop"
    data-lang="en"
  >

<header class="nav_header" >
  <nav class="nav"><a href='https://chechia.net/' class="nav_brand nav_item" title="Che-Chia Chang">
  <img src="https://chechia.net/images/fav_79x79.jpg" class="logo" alt="Che-Chia Chang">
  <div class="nav_close">
    <div><svg class="icon">
  <title>open-menu</title>
  <use xlink:href="#open-menu"></use>
</svg>
<svg class="icon">
  <title>closeme</title>
  <use xlink:href="#closeme"></use>
</svg>
</div>
  </div>
</a>

    <div class='nav_body nav_body_left'>
      
      
      
        

  <div class="nav_parent">
    <a href="https://chechia.net/" class="nav_item" title="Home">Home </a>
  </div>
  <div class="nav_parent">
    <a href="https://chechia.net/" class="nav_item" title="DevOps">DevOps <img src='https://chechia.net/icons/caret-icon.svg' alt="icon" class="nav_icon"></a>
    <div class="nav_sub">
      <span class="nav_child"></span>
        <a href="https://chechia.net/post/2020-06-14-terraform-infrastructure-as-code" class="nav_child nav_item" title="[Terraform] 從零開始學">[Terraform] 從零開始學</a>
        <a href="https://ithelp.ithome.com.tw/articles/10258904" class="nav_child nav_item" title="[Terraform] 30 天公有雲範例">[Terraform] 30 天公有雲範例</a>
        <a href="https://chechia.net/post/2021-09-01-ithome-ironman-go/" class="nav_child nav_item" title="[Terraform] 2021 iThome 鐵人賽佳作文章">[Terraform] 2021 iThome 鐵人賽佳作文章</a>
    </div>
  </div>
  <div class="nav_parent">
    <a href="https://chechia.net/" class="nav_item" title="iThome 系列文">iThome 系列文 <img src='https://chechia.net/icons/caret-icon.svg' alt="icon" class="nav_icon"></a>
    <div class="nav_sub">
      <span class="nav_child"></span>
        <a href="https://chechia.net/post/2022-09-12-14th-ithome-ironman-iac-aws-workshop-01-introduction/" class="nav_child nav_item" title="2022 14th iThome 鐵人賽參賽WIP">2022 14th iThome 鐵人賽參賽WIP</a>
        <a href="https://chechia.net/post/2021-09-01-ithome-ironman-go/" class="nav_child nav_item" title="2021 13th iThome 鐵人賽佳作文章">2021 13th iThome 鐵人賽佳作文章</a>
        <a href="https://chechia.net/post/2020-09-09-ithome-ironman-challenge/" class="nav_child nav_item" title="2020 12th iThome 鐵人賽佳作文章">2020 12th iThome 鐵人賽佳作文章</a>
        <a href="https://chechia.net/post/2019-09-09-ithome-ironman-challenge/" class="nav_child nav_item" title="2019 11th iThome 鐵人賽優勝文章">2019 11th iThome 鐵人賽優勝文章</a>
    </div>
  </div>
  <div class="nav_parent">
    <a href="https://www.instagram.com/c.c.leather/" class="nav_item" title="Leather Craft">Leather Craft </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.instagram.com/dive.with.cat.coach/" class="nav_item" title="Scuba Diving">Scuba Diving </a>
  </div>
  <div class="nav_parent">
    <a href="https://chechia.net/about/" class="nav_item" title="About">About </a>
  </div>
      
<div class='follow'>
    
    
  <a href="https://www.facebook.com/engineer.from.scratch">
    <svg class="icon">
  <title>facebook</title>
  <use xlink:href="#facebook"></use>
</svg>

  </a>
    
    
  <a href="https://github.com/chechiachang">
    <svg class="icon">
  <title>github</title>
  <use xlink:href="#github"></use>
</svg>

  </a>
    
    
  <a href="https://twitter.com/chechiachang">
    <svg class="icon">
  <title>twitter</title>
  <use xlink:href="#twitter"></use>
</svg>

  </a>
    
    
  <a href="https://www.linkedin.com/in/che-chia-chang-92194a4a/">
    <svg class="icon">
  <title>linkedin</title>
  <use xlink:href="#linkedin"></use>
</svg>

  </a>
<div class="color_mode">
  <input type="checkbox" class="color_choice" id="mode">
</div>

</div>

    </div>
  </nav>
</header>

    <main>
  
<div class="grid-inverse wrap content">
  <article class="post_content">
    <h1 class="post_title">Self-host ELK stack - Installation</h1>
  <div class="post_meta">
    <span><svg class="icon">
  <title>calendar</title>
  <use xlink:href="#calendar"></use>
</svg>
</span>
    <span class="post_date">
      Sep 15, 2019</span>
    <span class="post_time"> · 5 min read</span><span>&nbsp;· <a href='https://chechia.net/tags/gcp/' title="gcp" class="post_tag button button_translucent">gcp
        </a><a href='https://chechia.net/tags/tls/' title="tls" class="post_tag button button_translucent">tls
        </a><a href='https://chechia.net/tags/elasticsearch/' title="elasticsearch" class="post_tag button button_translucent">elasticsearch
        </a><a href='https://chechia.net/tags/devops/' title="devops" class="post_tag button button_translucent">devops
        </a><a href='https://chechia.net/tags/logstash/' title="logstash" class="post_tag button button_translucent">logstash
        </a>
    </span>
    <span class="page_only">&nbsp;·
  <div class="post_share">
    Share on:
    <a href="https://twitter.com/intent/tweet?text=Self-host%20ELK%20stack%20-%20Installation&url=https%3a%2f%2fchechia.net%2fpost%2f2019-09-15-self-host-elk-stack-on-gcp%2f&tw_p=tweetbutton" class="twitter" title="Share on Twitter" target="_blank" rel="nofollow">
      <svg class="icon">
  <title>twitter</title>
  <use xlink:href="#twitter"></use>
</svg>

    </a>
    <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fchechia.net%2fpost%2f2019-09-15-self-host-elk-stack-on-gcp%2f&t=Self-host%20ELK%20stack%20-%20Installation" class="facebook" title="Share on Facebook" target="_blank" rel="nofollow">
      <svg class="icon">
  <title>facebook</title>
  <use xlink:href="#facebook"></use>
</svg>

    </a>
    <a href="#linkedinshare" id = "linkedinshare" class="linkedin" title="Share on LinkedIn" rel="nofollow">
      <svg class="icon">
  <title>linkedin</title>
  <use xlink:href="#linkedin"></use>
</svg>

    </a>
    <a href="https://chechia.net/post/2019-09-15-self-host-elk-stack-on-gcp/" title="Copy Link" class="link link_yank">
      <svg class="icon">
  <title>copy</title>
  <use xlink:href="#copy"></use>
</svg>

    </a>
  </div>
  </span>
  </div>

    <div class="post_body"><p><a href="https://ithelp.ithome.com.tw/2020ironman">2020 It邦幫忙鐵人賽</a> 系列文章</p>
<ul>
<li><a href="https://chechia.net/post/2019-09-15-self-host-elk-stack-on-gcp/">Self-host ELK stack on GCP</a></li>
<li><a href="https://chechia.net/post/2019-09-15-secure-elk-stack/">Secure ELK Stask</a></li>
<li><a href="https://chechia.net/post/2019-09-18-monitoring-gce-with-elk/">監測 Google Compute Engine 上服務的各項數據</a></li>
<li><a href="https://chechia.net/post/2019-09-19-monitoring-gke-with-elk/">監測 Google Kubernetes Engine 的各項數據</a></li>
<li><a href="https://chechia.net/post/2019-09-18-elastic-or-not-elastic/">是否選擇 ELK 作為解決方案</a></li>
<li><a href="https://chechia.net/post/2019-09-21-logstash-on-gke/">使用 logstash pipeline 做數據前處理</a></li>
<li>Elasticsearch 日常維護：數據清理，效能調校，永久儲存</li>
<li>Debug ELK stack on GCP</li>
</ul>
<p>作為範例的 ELK 的版本是當前的 stable release 7.3.1。</p>
<p>由於我比較熟悉 GCP / GKE 的服務，這篇的操作過程都會以 GCP 平台作為範例，不過操作過程大體上是跨平台通用的。</p>
<p>對我的文章有興趣，歡迎到我的網站上 <a href="https://chechia.net">https://chechia.net</a> 閱讀其他技術文章，有任何謬誤也請各方大德直接聯繫我，感激不盡。</p>
<p>&ndash;</p>
<h1 id="簡介-elk-stack">簡介 ELK stack</h1>
<p><a href="https://www.elastic.co/guide/index.html">官方說明文件</a></p>
<h3 id="elk-的元件">ELK 的元件</h3>
<ul>
<li>Elasticsearch: 基於 Lucene 的分散式全文搜索引擎</li>
<li>Logstash: 數據處理 pipeline</li>
<li>Kibana: ELK stack 的管理後台與數據視覺化工具</li>
<li>Beats: 輕量級的應用端數據收集器，會從被監控端收集 log 與監控數據(metrics)</li>
</ul>
<h3 id="elk-的工作流程">ELK 的工作流程</h3>
<p>beats -&gt; (logstash) -&gt; elasticsearch -&gt; kibana</p>
<ol>
<li>將 beats 放在應用端的主機上，或是在容器化環境種作為 sidecar，跟應用放在一起</li>
<li>設定 beats 從指定的路徑收集 log 與 metrics</li>
<li>設定 beats 向後輸出的遠端目標</li>
<li>(Optional) beats 輸出到 logstash ，先進行數據的變更、格式整理，在後送到 elasticsearch</li>
<li>beats 向後輸出到 elasticsearch，儲存數據文件(document)，並依照樣式(template)與索引(index)儲存，便可在 elasticsearch 上全文搜索數據</li>
<li>透過 Kibana，將 elasticsearch 上的 log 顯示</li>
</ol>
<h1 id="官方不是有出文件嗎">官方不是有出文件嗎</h1>
<p>Elastic 官方準備了大量的文件，理論上要跟著文件一步一步架設這整套工具應該是十分容易。然而實際照著做卻遇上很多困難。由於缺乏 get-started 的範例文件，不熟悉 ELK 設定的使用者，常常需要停下來除錯，甚至因為漏掉某個步驟，而需要回頭重做一遍。</p>
<p>說穿了本篇的技術含量不高，就只是一個踩雷過程。</p>
<p>Lets get our hands dirty.</p>
<h1 id="warning">WARNING</h1>
<p>這篇安裝過程沒有做安全性設定，由於 ELK stack 的安全性功能模組，在<a href="https://www.elastic.co/what-is/open-x-pack">v6.3.0 以前的版本是不包含安全性模組的</a>，官方的安裝說明文件將安全性設定另成一篇。我第一次安裝，全部安裝完後，才發現裏頭沒有任何安全性設定，包含帳號密碼登入、api secret token、https/tls 通通沒有，整組 elk 裸奔。</p>
<p>我這邊分開的目的，不是讓大家都跟我一樣被雷(XD)，而是因為</p>
<ul>
<li>另起一篇對安全性設定多加說明</li>
<li>在安全的內網中，沒有安全性設定，可以大幅加速開發與除錯</li>
</ul>
<p>雖然沒有安全性設定，但仍然有完整的功能，如果只是在測試環境，或是想要評估試用 self-hosted ELK，這篇的說明已足夠。但千萬不要用這篇上 public network 或是用在 production 環境喔。</p>
<p>如果希望第一次安裝就有完整的 security 設定，請等待下篇 <a href="#secure-elk-stack">Secure ELK Stask</a></p>
<h1 id="討論需求與規格">討論需求與規格</h1>
<p>這邊只是帶大家過一下基礎安裝流程，我們在私有網路中搭建一台 standalone 的 ELK stack，通通放在一台節點(node)上。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">elk-node-standalone 10.140.0.10
</span></span><span class="line"><span class="ln">2</span><span class="cl">app-node-1          10.140.0.11
</span></span><span class="line"><span class="ln">3</span><span class="cl">...                 ...
</span></span></code></pre></div><p>本機的 ELK stack 元件，彼此透過 localhost 連線</p>
<ul>
<li>Elasticsearch:  localhost:9200</li>
<li>Kibana:         localhost:5601</li>
<li>Apm-server:     localhost:8200</li>
<li>Self Monitoring Services</li>
</ul>
<p>私有網路中的外部服務透過 10.140.0.10</p>
<ul>
<li>beats 從其他 node 輸出到 Elasticsearch: 10.140.0.10:9200</li>
<li>beats 從其他 node 輸出到 Apm-server:    10.140.0.10:8200</li>
<li>在內部網路中 透過 browser 存取 Kibana:  10.140.0.10:5601</li>
</ul>
<p>standalone 的好處:</p>
<ul>
<li>方便 (再次強調這篇只是示範，實務上不要貪一時方便，維運崩潰)</li>
<li>最簡化設定，ELK 有非常大量的設定可以調整，這篇簡化了大部分</li>
</ul>
<p>Standalone可能造成的問題:</p>
<ul>
<li>No High Availablity: 沒有任何容錯備援可以 failover，這台掛就全掛</li>
<li>外部服務多的話，很容易就超過 node 上對於網路存取的限制，造成 tcp drop 或 delay。需要調整 ulimit 來增加網路，當然這在雲端上會給維運帶來更多麻煩，不是一個好解法。</li>
</ul>
<p>如果要有 production ready 的 ELK</p>
<ul>
<li>HA 開起來</li>
<li>把服務分散到不同 node 上, 方便之後 scale out 多開幾台
<ul>
<li>elasticsearch-1, elasticsearch-2, elasticsearch-3&hellip;</li>
<li>kibana-1</li>
<li>apm-server-1, apm-server-2, &hellip;</li>
</ul>
</li>
<li>如果應用在已經容器化, 這些服務元件也可以上 Kubernetes 做容器自動化，這個部份蠻好玩，如果有時間我們來聊這篇</li>
</ul>
<h1 id="主機設定">主機設定</h1>
<p>Elasticsearch 儲存數據會佔用不少硬碟空間，我個人的習慣是只要有額外占用儲存空間，都要另外掛載硬碟，不要占用 root，所以這邊會需要另外掛載硬碟。</p>
<p>GCP 上使用 Google Compote Engine 的朋友，可以照 <a href="https://cloud.google.com/compute/docs/disks/add-persistent-disk?hl=zh-tw">Google 官方操作步驟操作</a></p>
<p>完成後接近這樣</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln"> 1</span><span class="cl">$ df -h
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">$ df --human-readable
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">Filesystem      Size  Used Avail Use% Mounted on
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">/dev/sda1       9.6G  8.9G  682M  93% /
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">/dev/sdb        492G   63G  429G  13% /mnt/disks/elk
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">$ ls /mnt/disks/elk
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">
</span></span><span class="line"><span class="ln">10</span><span class="cl">/mnt/disks/elk/elasticsearch
</span></span><span class="line"><span class="ln">11</span><span class="cl">/mnt/disks/elk/apm-server
</span></span><span class="line"><span class="ln">12</span><span class="cl">/mnt/disks/elk/kibana
</span></span></code></pre></div><p>至於需要多少容量，取決收集數據的數量，落差非常大，可以先上個 100Gb ，試跑一段時間，再視情況 scale storage disk。</p>
<h1 id="開防火牆">開防火牆</h1>
<p>需要開放 10.140.0.10 這台機器的幾個 port</p>
<ul>
<li>elasticsearch           :9200   來源只開放私有網路其他 ip 10.140.0.0/9</li>
<li>apm-server              :8200   (同上)</li>
<li>kibana                  :5601   (同上)，如果想從外部透過 browser開，需要 whitelist ip</li>
</ul>
<p>GCP 上有 default 的防火牆允許規則，私有網路可以彼此連線</p>
<ul>
<li>default-allow-internal: :all    :10.140.0.0/9   tcp:0-65535</li>
</ul>
<h1 id="install-elasticsearch">Install Elasticsearch</h1>
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/install-elasticsearch.html">Install Elasticsearch 官方文件 7.3</a></p>
<p>我們這邊直接在 ubuntu 18.04 上使用 apt 作為安裝</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">sudo apt-get install apt-transport-https
</span></span><span class="line"><span class="ln">2</span><span class="cl">wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -
</span></span><span class="line"><span class="ln">3</span><span class="cl">add-apt-repository &#34;deb https://artifacts.elastic.co/packages/7.x/apt stable main&#34;
</span></span><span class="line"><span class="ln">4</span><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="ln">5</span><span class="cl">sudo apt-get install elasticsearch
</span></span></code></pre></div><p>安裝完後路徑長這樣</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">/etc/elasticsearch
</span></span><span class="line"><span class="ln">2</span><span class="cl">/etc/elasticsearch/elasticsearch.yml
</span></span><span class="line"><span class="ln">3</span><span class="cl">/etc/elasticsearch/jvm.options
</span></span><span class="line"><span class="ln">4</span><span class="cl">
</span></span><span class="line"><span class="ln">5</span><span class="cl"># Utility
</span></span><span class="line"><span class="ln">6</span><span class="cl">/usr/share/elasticsearch/bin/
</span></span><span class="line"><span class="ln">7</span><span class="cl">
</span></span><span class="line"><span class="ln">8</span><span class="cl"># Log
</span></span><span class="line"><span class="ln">9</span><span class="cl">/var/log/elasticsearch/elasticsearch.log
</span></span></code></pre></div><p>有需要也可以複寫設定檔，把 log 也移到 /mnt/disks/elk/elasticsearch/logs</p>
<h3 id="服務控制">服務控制</h3>
<p>透過 systemd 管理，我們可以用 systemctl 控制，
用戶 elasticsearch:elasticsearch，操作時會需要 sudo 權限。</p>
<p>但在啟動前要先調整數據儲存路徑，並把權限移轉給使用者。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">mkdir -p /mnt/disks/elk/elasticsearch
</span></span><span class="line"><span class="ln">2</span><span class="cl">chown elasticsearch:elasticsearch /mnt/disks/elk/elasticsearch
</span></span></code></pre></div><h3 id="設定檔案">設定檔案</h3>
<p>ELK 提供了許多可設定調整的設定,但龐大的設定檔案也十分難上手。我們這邊先簡單更改以下設定檔案</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln"> 1</span><span class="cl">sudo vim /etc/elasticsearch/elasticsearch.yml
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"># Change Network
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">network.host: 0.0.0.0
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"># Change data path
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">path.data: /mnt/disks/elk/elasticsearch
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">vim /etc/elasticsearch/jvm-options
</span></span><span class="line"><span class="ln"> 9</span><span class="cl"># Adjust heap to 4G
</span></span><span class="line"><span class="ln">10</span><span class="cl">-Xms4g
</span></span><span class="line"><span class="ln">11</span><span class="cl">-Xmx4g
</span></span><span class="line"><span class="ln">12</span><span class="cl">
</span></span><span class="line"><span class="ln">13</span><span class="cl"># Enable xpack.security
</span></span><span class="line"><span class="ln">14</span><span class="cl">discovery.seed_hosts: [&#34;10.140.0.10&#34;]
</span></span><span class="line"><span class="ln">15</span><span class="cl">discovery.type: &#34;single-node&#34;
</span></span><span class="line"><span class="ln">16</span><span class="cl">xpack.security.enabled: true
</span></span><span class="line"><span class="ln">17</span><span class="cl">xpack.security.transport.ssl.enabled: true
</span></span><span class="line"><span class="ln">18</span><span class="cl">xpack.license.self_generated.type: basic
</span></span></code></pre></div><p>6.3.0 後的版本已經附上安全性模組 xpack，這邊順便開起來。關於 xpack 的安全性設定，這邊先略過不提。</p>
<p>有啟用 xpack ，可以讓我們透過 elasticsearch 附帶的工具，產生使用者與帳號密碼。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">/usr/share/elasticsearch/bin/elasticsearch-setup-passwords auto
</span></span><span class="line"><span class="ln">2</span><span class="cl">
</span></span><span class="line"><span class="ln">3</span><span class="cl"># Keep your passwords safe
</span></span></code></pre></div><p>然後把啟動 Elasticsearch</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">sudo systemctl enable elasticsearch.service
</span></span><span class="line"><span class="ln">2</span><span class="cl">sudo systemctl start elasticsearch.service
</span></span><span class="line"><span class="ln">3</span><span class="cl">sudo systemctl status elasticsearch.service
</span></span></code></pre></div><p>看一下 log，確定服務有在正常工作</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">tail -f /var/log/elasticsearch/elasticsearch.log
</span></span></code></pre></div><p>在 node 上試打 Elasticsearch API</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln"> 1</span><span class="cl">$ curl localhost:9200
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">{
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">  &#34;name&#34; : &#34;elk&#34;,
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">  &#34;cluster_name&#34; : &#34;elasticsearch&#34;,
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">  &#34;cluster_uuid&#34; : &#34;uiMZe7VETo-H6JLFLF4SZg&#34;,
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">  &#34;version&#34; : {
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">    &#34;number&#34; : &#34;7.3.1&#34;,
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">    &#34;build_flavor&#34; : &#34;default&#34;,
</span></span><span class="line"><span class="ln">10</span><span class="cl">    &#34;build_type&#34; : &#34;deb&#34;,
</span></span><span class="line"><span class="ln">11</span><span class="cl">    &#34;build_hash&#34; : &#34;4749ba6&#34;,
</span></span><span class="line"><span class="ln">12</span><span class="cl">    &#34;build_date&#34; : &#34;2019-08-19T20:19:25.651794Z&#34;,
</span></span><span class="line"><span class="ln">13</span><span class="cl">    &#34;build_snapshot&#34; : false,
</span></span><span class="line"><span class="ln">14</span><span class="cl">    &#34;lucene_version&#34; : &#34;8.1.0&#34;,
</span></span><span class="line"><span class="ln">15</span><span class="cl">    &#34;minimum_wire_compatibility_version&#34; : &#34;6.8.0&#34;,
</span></span><span class="line"><span class="ln">16</span><span class="cl">    &#34;minimum_index_compatibility_version&#34; : &#34;6.0.0-beta1&#34;
</span></span><span class="line"><span class="ln">17</span><span class="cl">  },
</span></span><span class="line"><span class="ln">18</span><span class="cl">  &#34;tagline&#34; : &#34;You Know, for Search&#34;
</span></span><span class="line"><span class="ln">19</span><span class="cl">}
</span></span></code></pre></div><h1 id="kibana">Kibana</h1>
<p>有了正常工作的 Elasticsearch，接下來要安裝 kibana，由於 apt repository 已經匯入，這邊直接</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="ln">2</span><span class="cl">sudo apt-get install kibana
</span></span></code></pre></div><p>一樣快速設定一下</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln"> 1</span><span class="cl">$ vim /etc/kibana/kinana.yml
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"># change server.host from localhost to 0.0.0.0 to allow outside requests
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">server.host: &#34;0.0.0.0&#34;
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"># Add elasticsearch password
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">elasticsearch.username: &#34;kibana&#34;
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">elasticsearch.password:
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">
</span></span><span class="line"><span class="ln">10</span><span class="cl">sudo systemctl enable kibana.service
</span></span><span class="line"><span class="ln">11</span><span class="cl">sudo systemctl start kibana.service
</span></span><span class="line"><span class="ln">12</span><span class="cl">sudo systemctl status kibana.service
</span></span></code></pre></div><p>檢查 log 並試打一下</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">sudo systemctl status kibana
</span></span><span class="line"><span class="ln">2</span><span class="cl">
</span></span><span class="line"><span class="ln">3</span><span class="cl">$ curl localhost:5601
</span></span></code></pre></div><p>透過內網 ip 也可以用 browser 存取
使用 elastic 這組帳號密碼登入，可以有管理員權限
可以檢視一下 kibana 的頁面，看一下是否系統功能都上常上線
http://10.140.0.10/app/monitoring#</p>
<h1 id="filebeat">Filebeat</h1>
<p>以上是 ELK 最基本架構: elasticsearch 引擎與前端視覺化管理工具 Kibana。當然現在進去 kibana 是沒有數據的，所以我們現在來安裝第一個 beat，收集第一筆數據。</p>
<p>你可能會覺得奇怪: 我現在沒有任何需要監控的應用，去哪收集數據?</p>
<p>ELK 提供的自我監測 (self-monitoring) 的功能，也就是在 node 上部屬 filebeat 並啟用 modules，便可以把這台 node 上的 elasticsearch 運行的狀況，包含cpu 狀況、記憶體用量、儲存空間用量、安全性告警、&hellip;都做為數據，傳到 elasticsearch 中，並在 Kibana monitoring 頁面製圖顯示。</p>
<p>這邊也剛好做為我們 ELK stack 的第一筆數據收集。</p>
<p>WARNING: 這邊一樣要提醒， production 環境多半會使用另外一組的 elasticsearch 來監控主要的這組 elastic stack，以維持 elk stack 的穩定性，才不會自己 monitoring 自己，結果 elastic 掛了，metrics 跟錯誤訊息都看不到。</p>
<p><a href="https://www.elastic.co/guide/en/beats/filebeat/7.3/filebeat-installation.html">官方安裝文件</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">sudo apt-get update
</span></span><span class="line"><span class="ln">2</span><span class="cl">sudo apt-get install filebeat
</span></span></code></pre></div><p>預設的 filebeat.yml 設定檔案不是完整的，請到官網下載完整版，但官網沒給檔案連結(慘)，只有網頁版 <a href="https://www.elastic.co/guide/en/beats/filebeat/7.3/filebeat-reference-yml.html">https://www.elastic.co/guide/en/beats/filebeat/7.3/filebeat-reference-yml.html</a></p>
<p>我們上 github 把她載下來</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-v" data-lang="v"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="err">$</span> <span class="nv">wget</span> <span class="nv">https</span><span class="p">:</span><span class="c1">//raw.githubusercontent.com/elastic/beats/v7.3.1/filebeat/filebeat.reference.yml
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="c1"></span><span class="err">$</span> <span class="nv">sudo</span> <span class="nv">mv</span> <span class="nv">filebeat</span><span class="o">-</span><span class="nv">reference</span><span class="o">-</span><span class="nv">y</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="err">$</span> <span class="nv">sudo</span> <span class="nv">vim</span> <span class="o">/</span><span class="nv">etc</span><span class="o">/</span><span class="nv">filebeat</span><span class="o">/</span><span class="nv">filebeat</span><span class="p">.</span><span class="nv">yml</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="o">#</span> <span class="nc">Enable</span> <span class="nv">elasticsearch</span> <span class="kn">module</span> <span class="nv">and</span> <span class="nv">kibana</span> <span class="kn">module</span> <span class="nv">to</span> <span class="nv">process</span> <span class="nv">metrics</span> <span class="nv">of</span> <span class="nv">localhost</span> <span class="nv">elasticsearch</span> <span class="o">&amp;</span> <span class="nv">kibana</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="nv">filebeat</span><span class="p">.</span><span class="nl">modules</span><span class="p">:</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="o">-</span> <span class="kn">module</span><span class="p">:</span> <span class="nv">elasticsearch</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">  <span class="o">#</span> <span class="nc">Server</span> <span class="nv">log</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">  <span class="nl">server</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">    <span class="nv">enabled</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">
</span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="o">-</span> <span class="kn">module</span><span class="p">:</span> <span class="nv">kibana</span>
</span></span><span class="line"><span class="ln">13</span><span class="cl">  <span class="o">#</span> <span class="nc">All</span> <span class="nv">logs</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">  <span class="nl">log</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">    <span class="nv">enabled</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">
</span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="o">#</span> <span class="nc">The</span> <span class="nv">name</span> <span class="nv">will</span> <span class="nv">be</span> <span class="nv">added</span> <span class="nv">to</span> <span class="nv">metadata</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="nv">name</span><span class="p">:</span> <span class="nv">filebeat</span><span class="o">-</span><span class="nv">elk</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="nl">fields</span><span class="p">:</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">  <span class="nv">env</span><span class="p">:</span> <span class="nv">elk</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">
</span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="o">#</span> <span class="nc">Add</span> <span class="nv">additional</span> <span class="nv">cloud_metadata</span> <span class="nv">since</span> <span class="nv">we</span><span class="s1">&#39;re on GCP
</span></span></span><span class="line"><span class="ln">23</span><span class="cl"><span class="s1">processors:
</span></span></span><span class="line"><span class="ln">24</span><span class="cl"><span class="s1">- add_cloud_metadata: ~
</span></span></span><span class="line"><span class="ln">25</span><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="ln">26</span><span class="cl"><span class="s1"># Output to elasticsearch
</span></span></span><span class="line"><span class="ln">27</span><span class="cl"><span class="s1">output.elasticsearch:
</span></span></span><span class="line"><span class="ln">28</span><span class="cl"><span class="s1">  enabled: true
</span></span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="s1">  hosts: [&#34;localhost:9200&#34;]
</span></span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="s1">  protocol: &#34;http&#34;
</span></span></span><span class="line"><span class="ln">31</span><span class="cl"><span class="s1">  username: &#34;elastic&#34;
</span></span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="s1">  password: 
</span></span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="ln">34</span><span class="cl"><span class="s1"># Configure kibana with filebeat: add template, dashboards, etc...
</span></span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="s1">setup.kibana:
</span></span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="s1">  host: &#34;localhost:5601&#34;
</span></span></span><span class="line"><span class="ln">37</span><span class="cl"><span class="s1">  protocol: &#34;http&#34;
</span></span></span><span class="line"><span class="ln">38</span><span class="cl"><span class="s1">  username: &#34;elastic&#34;
</span></span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="s1">  password: 
</span></span></span></code></pre></div><p>啟動 filebeat</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">sudo systemctl start filebeat
</span></span></code></pre></div><p>看一下 log，filebeat 會開始收集 elasticsearch 的 log 與 metrics，可以在 log 上看到收集的狀況。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">$ sudo journalctl -fu filebeat
</span></span><span class="line"><span class="ln">2</span><span class="cl">
</span></span><span class="line"><span class="ln">3</span><span class="cl">Sep 15 06:28:50 elk filebeat[9143]: 2019-09-15T06:28:50.176Z        INFO        [monitoring]        log/log.go:145        Non-zero metrics in the last 30s        {&#34;monitoring&#34;: {&#34;metrics&#34;: {&#34;beat&#34;:{&#34;cpu&#34;:{&#34;system&#34;:{&#34;ticks&#34;:1670860,&#34;time&#34;:{&#34;ms&#34;:66}},&#34;total&#34;:{&#34;ticks&#34;:6964660,&#34;time&#34;:{&#34;ms&#34;:336},&#34;value&#34;:6964660},&#34;user&#34;:{&#34;ticks&#34;:5293800,&#34;time&#34;:{&#34;ms&#34;:270}}},&#34;handles&#34;:{&#34;limit&#34;:{&#34;hard&#34;:4096,&#34;soft&#34;:1024},&#34;open&#34;:11},&#34;info&#34;:{&#34;ephemeral_id&#34;:&#34;62fd4bfa-1949-4356-9615-338ca6a95075&#34;,&#34;uptime&#34;:{&#34;ms&#34;:786150373}},&#34;memstats&#34;:{&#34;gc_next&#34;:7681520,&#34;memory_alloc&#34;:4672576,&#34;memory_total&#34;:457564560376,&#34;rss&#34;:-32768},&#34;runtime&#34;:{&#34;goroutines&#34;:98}},&#34;filebeat&#34;:{&#34;events&#34;:{&#34;active&#34;:-29,&#34;added&#34;:1026,&#34;done&#34;:1055},&#34;harvester&#34;:{&#34;open_files&#34;:4,&#34;running&#34;:4}},&#34;libbeat&#34;:{&#34;config&#34;:{&#34;module&#34;:{&#34;running&#34;:0}},&#34;output&#34;:{&#34;events&#34;:{&#34;acked&#34;:1055,&#34;active&#34;:-50,&#34;batches&#34;:34,&#34;total&#34;:1005},&#34;read&#34;:{&#34;bytes&#34;:248606},&#34;write&#34;:{&#34;bytes&#34;:945393}},&#34;pipeline&#34;:{&#34;clients&#34;:9,&#34;events&#34;:{&#34;active&#34;:32,&#34;published&#34;:1026,&#34;total&#34;:1026},&#34;queue&#34;:{&#34;acked&#34;:1055}}},&#34;registrar&#34;:{&#34;states&#34;:{&#34;current&#34;:34,&#34;update&#34;:1055},&#34;writes&#34;:{&#34;success&#34;:35,&#34;total&#34;:35}},&#34;system&#34;:{&#34;load&#34;:{&#34;1&#34;:1.49,&#34;15&#34;:0.94,&#34;5&#34;:1.15,&#34;norm&#34;:{&#34;1&#34;:0.745,&#34;15&#34;:0.47,&#34;5&#34;:0.575}}}}}}
</span></span></code></pre></div><p>如果數據都有送出，就可以回到 kibana 的頁面，看一下目前這個 elasticsearch 集群，有開啟 monitoring 功能的元件們，是否都有正常工作。</p>
<p>http://10.140.0.10/app/monitoring#</p>
<p>頁面長得像這樣</p>
<figure><img src="elk/kibana-monitoring.png" width="100%" height="100%"/>
</figure>

<p>Standalone cluster 中的 filebeat，是還未跟 elasticsearch 配對完成的數據，會顯示在另外一個集群中，配對完後會歸到 elk cluster 中，就是我們的主要 cluster。</p>
<p>點進去可以看各個元件的服務情形。</p>
<h1 id="小結">小結</h1>
<ul>
<li>簡單思考 self-host ELK stack 搭建的架構</li>
<li>在單一 node 上安裝最簡易的 elastic stack</li>
<li>設定元件的 output 位置</li>
<li>設定 self-monitoring</li>
</ul>
<p>恭喜各位獲得一個裸奔但是功能完整的 ELK, 我們下篇再向安全性邁進。</p>

    </div>
<div class="post_comments">
  
  
  
</div>




  </article>
<aside class="sidebar">
  <section class="sidebar_inner">
    <br>
    

        <h2>Che-Chia Chang</h2>
      <div class="author_bio">
        DevOps, SRE, Kubernetes admin.
      </div>
      <a href='https://chechia.net/about/' class="button mt-1" role="button" title='Read More'>Read More</a>

    
    
    <h2 class="mt-4">Featured Posts</h2>
    <ul>
      <li>
        <a href="https://chechia.net/post/2022-09-12-14th-ithome-ironman-iac-aws-workshop-01-introduction/" class="nav-link" title="2022 09 12 14th iThome ironman-01 IaC best practice workshop on aws">2022 09 12 14th iThome ironman-01 IaC best practice workshop on aws</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2022-06-09-ithome-devopsday-2022-proposal-introduce-policy-as-code-for-terraform-/" class="nav-link" title="2022 06 09 IThome 2022 DevOpsDay Introducing policy as code for terraform">2022 06 09 IThome 2022 DevOpsDay Introducing policy as code for terraform</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2022-05-21-coscup-proposal-operating-time-series-database-in-k8s/" class="nav-link" title="2022 05 21 COSCUP Operating Time Series Database in K8s">2022 05 21 COSCUP Operating Time Series Database in K8s</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2021-11-16-ithome-cloud-summit-vault/" class="nav-link" title="2021 11 16 Ithome Cloud Summit Vault">2021 11 16 Ithome Cloud Summit Vault</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2020-09-26-gcp-preemptible-instance-kubernetes/" class="nav-link" title="Gcp Preemptible Instance Kubernetes">Gcp Preemptible Instance Kubernetes</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2020-09-26-gcp-preemptible-instance-introduction/" class="nav-link" title="Gcp Preemptible Instance Introduction">Gcp Preemptible Instance Introduction</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2020-09-24-gcp-preemptible-instance-requirement/" class="nav-link" title="Gcp Preemptible Instance Requirement">Gcp Preemptible Instance Requirement</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2020-09-22-gcp-preemptible-instance-requirement-distributed/" class="nav-link" title="Gcp Preemptible Instance Requirement Distributed">Gcp Preemptible Instance Requirement Distributed</a>
      </li>
    </ul>
    <h2 class="mt-4">Recent Posts</h2>
    <ul class="flex-column">
      <li>
        <a href="https://chechia.net/post/2021-09-01-ithome-ironman-go/" class="nav-link" title="2021 09 01 Ithome Ironman Go">2021 09 01 Ithome Ironman Go</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2021-05-13-devops-taiwan-33-hashicorp-vault-for-kubernetes-apps/" class="nav-link" title="DevOps Taiwan Meetup #33: Hashicorp Vault for Kubernetes">DevOps Taiwan Meetup #33: Hashicorp Vault for Kubernetes</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2020-10-07-terraform-infrastructure-as-code-atlantis/" class="nav-link" title="Terraform Infrastructure as Code: Atlantis">Terraform Infrastructure as Code: Atlantis</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2020-10-06-terraform-infrastructure-as-code-terragrunt/" class="nav-link" title="Terraform Infrastructure as Code: Terragrunt">Terraform Infrastructure as Code: Terragrunt</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2020-09-26-gcp-preemptible-instance-kubernetes/" class="nav-link" title="Gcp Preemptible Instance Kubernetes">Gcp Preemptible Instance Kubernetes</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2020-09-26-gcp-preemptible-instance-introduction/" class="nav-link" title="Gcp Preemptible Instance Introduction">Gcp Preemptible Instance Introduction</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2020-09-24-gcp-preemptible-instance-requirement/" class="nav-link" title="Gcp Preemptible Instance Requirement">Gcp Preemptible Instance Requirement</a>
      </li>
      <li>
        <a href="https://chechia.net/post/2020-09-22-gcp-preemptible-instance-requirement-distributed/" class="nav-link" title="Gcp Preemptible Instance Requirement Distributed">Gcp Preemptible Instance Requirement Distributed</a>
      </li>
    </ul>
    <div>
      <h2 class="mt-4 taxonomy" id="categories-section">Categories</h2>
      <nav class="tags_nav">
        <a href='https://chechia.net/categories/kubernetes/' class="post_tag button button_translucent" title="kubernetes">
          KUBERNETES
          <span class="button_tally">44</span>
        </a>
        
        <a href='https://chechia.net/categories/terraform/' class="post_tag button button_translucent" title="terraform">
          TERRAFORM
          <span class="button_tally">9</span>
        </a>
        
        <a href='https://chechia.net/categories/kafka/' class="post_tag button button_translucent" title="kafka">
          KAFKA
          <span class="button_tally">7</span>
        </a>
        
        <a href='https://chechia.net/categories/prometheus/' class="post_tag button button_translucent" title="prometheus">
          PROMETHEUS
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://chechia.net/categories/redis/' class="post_tag button button_translucent" title="redis">
          REDIS
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://chechia.net/categories/elasticsearch/' class="post_tag button button_translucent" title="elasticsearch">
          ELASTICSEARCH
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://chechia.net/categories/cert-manager/' class="post_tag button button_translucent" title="cert-manager">
          CERT-MANAGER
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://chechia.net/categories/technology/' class="post_tag button button_translucent" title="technology">
          TECHNOLOGY
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://chechia.net/categories/blockchain/' class="post_tag button button_translucent" title="blockchain">
          BLOCKCHAIN
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://chechia.net/categories/crd/' class="post_tag button button_translucent" title="crd">
          CRD
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://chechia.net/categories/logstash/' class="post_tag button button_translucent" title="logstash">
          LOGSTASH
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://chechia.net/categories/murmur/' class="post_tag button button_translucent" title="murmur">
          MURMUR
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://chechia.net/categories/nginx/' class="post_tag button button_translucent" title="nginx">
          NGINX
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://chechia.net/categories/certificate/' class="post_tag button button_translucent" title="certificate">
          CERTIFICATE
          <span class="button_tally">1</span>
        </a>
        
        
        <br>
        <div class="post_tags_toggle button">All Categories</div>
        <div class="post_tags">
          <div class="tags_list">
            
            <a href='https://chechia.net/categories/blockchain/' class=" post_tag button button_translucent" data-position=2 title="blockchain">BLOCKCHAIN<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://chechia.net/categories/cert-manager/' class=" post_tag button button_translucent" data-position=3 title="cert-manager">CERT-MANAGER<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://chechia.net/categories/certificate/' class=" post_tag button button_translucent" data-position=1 title="certificate">CERTIFICATE<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/categories/crd/' class=" post_tag button button_translucent" data-position=2 title="crd">CRD<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://chechia.net/categories/devops/' class=" post_tag button button_translucent" data-position=1 title="devops">DEVOPS<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/categories/distributed-system/' class=" post_tag button button_translucent" data-position=1 title="distributed-system">DISTRIBUTED-SYSTEM<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/categories/elasticsearch/' class=" post_tag button button_translucent" data-position=4 title="elasticsearch">ELASTICSEARCH<span class="button_tally">4</span>
            </a>
            
            
            <a href='https://chechia.net/categories/golang/' class=" post_tag button button_translucent" data-position=1 title="golang">GOLANG<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/categories/istio/' class=" post_tag button button_translucent" data-position=1 title="istio">ISTIO<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/categories/jenkins/' class=" post_tag button button_translucent" data-position=1 title="jenkins">JENKINS<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/categories/kafka/' class=" post_tag button button_translucent" data-position=7 title="kafka">KAFKA<span class="button_tally">7</span>
            </a>
            
            
            <a href='https://chechia.net/categories/kubernetes/' class=" post_tag button button_translucent" data-position=44 title="kubernetes">KUBERNETES<span class="button_tally">44</span>
            </a>
            
            
            <a href='https://chechia.net/categories/logstash/' class=" post_tag button button_translucent" data-position=2 title="logstash">LOGSTASH<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://chechia.net/categories/murmur/' class=" post_tag button button_translucent" data-position=2 title="murmur">MURMUR<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://chechia.net/categories/nginx/' class=" post_tag button button_translucent" data-position=2 title="nginx">NGINX<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://chechia.net/categories/prometheus/' class=" post_tag button button_translucent" data-position=5 title="prometheus">PROMETHEUS<span class="button_tally">5</span>
            </a>
            
            
            <a href='https://chechia.net/categories/redis/' class=" post_tag button button_translucent" data-position=5 title="redis">REDIS<span class="button_tally">5</span>
            </a>
            
            
            <a href='https://chechia.net/categories/technology/' class=" post_tag button button_translucent" data-position=3 title="technology">TECHNOLOGY<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://chechia.net/categories/terraform/' class=" post_tag button button_translucent" data-position=9 title="terraform">TERRAFORM<span class="button_tally">9</span>
            </a>
            
            <div class="tags_sort"><span title="sort alphabetically">[A~Z]</span><span title="sort by count">[0~9]</span>
            </div>
            <span class="tags_hide"><svg class="icon">
            <use xlink:href="#closeme"></use>
          </svg></span>
          </div>
        </div>
      </nav>
    </div>
    <div>
      <h2 class="mt-4 taxonomy" id="tags-section">Tags</h2>
      <nav class="tags_nav">
        <a href='https://chechia.net/tags/kubernetes/' class="post_tag button button_translucent" title="kubernetes">
          KUBERNETES
          <span class="button_tally">50</span>
        </a>
        
        <a href='https://chechia.net/tags/ithome/' class="post_tag button button_translucent" title="ithome">
          ITHOME
          <span class="button_tally">20</span>
        </a>
        
        <a href='https://chechia.net/tags/terraform/' class="post_tag button button_translucent" title="terraform">
          TERRAFORM
          <span class="button_tally">12</span>
        </a>
        
        <a href='https://chechia.net/tags/devops/' class="post_tag button button_translucent" title="devops">
          DEVOPS
          <span class="button_tally">11</span>
        </a>
        
        <a href='https://chechia.net/tags/gcp/' class="post_tag button button_translucent" title="gcp">
          GCP
          <span class="button_tally">10</span>
        </a>
        
        <a href='https://chechia.net/tags/kafka/' class="post_tag button button_translucent" title="kafka">
          KAFKA
          <span class="button_tally">9</span>
        </a>
        
        <a href='https://chechia.net/tags/preemptible/' class="post_tag button button_translucent" title="preemptible">
          PREEMPTIBLE
          <span class="button_tally">7</span>
        </a>
        
        <a href='https://chechia.net/tags/spot-instance/' class="post_tag button button_translucent" title="spot-instance">
          SPOT-INSTANCE
          <span class="button_tally">7</span>
        </a>
        
        <a href='https://chechia.net/tags/redis/' class="post_tag button button_translucent" title="redis">
          REDIS
          <span class="button_tally">6</span>
        </a>
        
        <a href='https://chechia.net/tags/elasticsearch/' class="post_tag button button_translucent" title="elasticsearch">
          ELASTICSEARCH
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://chechia.net/tags/logstash/' class="post_tag button button_translucent" title="logstash">
          LOGSTASH
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://chechia.net/tags/prometheus/' class="post_tag button button_translucent" title="prometheus">
          PROMETHEUS
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://chechia.net/tags/cert-manager/' class="post_tag button button_translucent" title="cert-manager">
          CERT-MANAGER
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://chechia.net/tags/crd/' class="post_tag button button_translucent" title="crd">
          CRD
          <span class="button_tally">3</span>
        </a>
        
        
        <br>
        <div class="post_tags_toggle button">All Tags</div>
        <div class="post_tags">
          <div class="tags_list">
            
            <a href='https://chechia.net/tags/atomic-swap/' class=" post_tag button button_translucent" data-position=1 title="atomic-swap">ATOMIC-SWAP<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/aws/' class=" post_tag button button_translucent" data-position=1 title="aws">AWS<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/bep3/' class=" post_tag button button_translucent" data-position=1 title="bep3">BEP3<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/binance/' class=" post_tag button button_translucent" data-position=1 title="binance">BINANCE<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/blockchain/' class=" post_tag button button_translucent" data-position=2 title="blockchain">BLOCKCHAIN<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://chechia.net/tags/borg/' class=" post_tag button button_translucent" data-position=2 title="borg">BORG<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://chechia.net/tags/cd/' class=" post_tag button button_translucent" data-position=1 title="cd">CD<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/cert-manager/' class=" post_tag button button_translucent" data-position=4 title="cert-manager">CERT-MANAGER<span class="button_tally">4</span>
            </a>
            
            
            <a href='https://chechia.net/tags/certificate/' class=" post_tag button button_translucent" data-position=1 title="certificate">CERTIFICATE<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/ci/' class=" post_tag button button_translucent" data-position=1 title="ci">CI<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/container/' class=" post_tag button button_translucent" data-position=1 title="container">CONTAINER<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/crd/' class=" post_tag button button_translucent" data-position=3 title="crd">CRD<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://chechia.net/tags/cri/' class=" post_tag button button_translucent" data-position=1 title="cri">CRI<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/devops/' class=" post_tag button button_translucent" data-position=11 title="devops">DEVOPS<span class="button_tally">11</span>
            </a>
            
            
            <a href='https://chechia.net/tags/distributed-system/' class=" post_tag button button_translucent" data-position=1 title="distributed-system">DISTRIBUTED-SYSTEM<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/docker/' class=" post_tag button button_translucent" data-position=1 title="docker">DOCKER<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/elasticsearch/' class=" post_tag button button_translucent" data-position=5 title="elasticsearch">ELASTICSEARCH<span class="button_tally">5</span>
            </a>
            
            
            <a href='https://chechia.net/tags/elk/' class=" post_tag button button_translucent" data-position=1 title="elk">ELK<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/erc-20/' class=" post_tag button button_translucent" data-position=1 title="erc-20">ERC-20<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/ethereum/' class=" post_tag button button_translucent" data-position=1 title="ethereum">ETHEREUM<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/filebeat/' class=" post_tag button button_translucent" data-position=1 title="filebeat">FILEBEAT<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/fluentd/' class=" post_tag button button_translucent" data-position=1 title="fluentd">FLUENTD<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/gcp/' class=" post_tag button button_translucent" data-position=10 title="gcp">GCP<span class="button_tally">10</span>
            </a>
            
            
            <a href='https://chechia.net/tags/golang/' class=" post_tag button button_translucent" data-position=1 title="golang">GOLANG<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/google/' class=" post_tag button button_translucent" data-position=2 title="google">GOOGLE<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://chechia.net/tags/haproxy/' class=" post_tag button button_translucent" data-position=3 title="haproxy">HAPROXY<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://chechia.net/tags/iac/' class=" post_tag button button_translucent" data-position=1 title="iac">IAC<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/ibm-q-experience/' class=" post_tag button button_translucent" data-position=1 title="ibm-q-experience">IBM-Q-EXPERIENCE<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/index/' class=" post_tag button button_translucent" data-position=1 title="index">INDEX<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/ingress/' class=" post_tag button button_translucent" data-position=2 title="ingress">INGRESS<span class="button_tally">2</span>
            </a>
            
            
            <a href='https://chechia.net/tags/istio/' class=" post_tag button button_translucent" data-position=1 title="istio">ISTIO<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/ithome/' class=" post_tag button button_translucent" data-position=20 title="ithome">ITHOME<span class="button_tally">20</span>
            </a>
            
            
            <a href='https://chechia.net/tags/jenkins/' class=" post_tag button button_translucent" data-position=1 title="jenkins">JENKINS<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/kafka/' class=" post_tag button button_translucent" data-position=9 title="kafka">KAFKA<span class="button_tally">9</span>
            </a>
            
            
            <a href='https://chechia.net/tags/kubernetes/' class=" post_tag button button_translucent" data-position=50 title="kubernetes">KUBERNETES<span class="button_tally">50</span>
            </a>
            
            
            <a href='https://chechia.net/tags/lecture/' class=" post_tag button button_translucent" data-position=1 title="lecture">LECTURE<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/logstash/' class=" post_tag button button_translucent" data-position=5 title="logstash">LOGSTASH<span class="button_tally">5</span>
            </a>
            
            
            <a href='https://chechia.net/tags/mit/' class=" post_tag button button_translucent" data-position=1 title="mit">MIT<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/nginx/' class=" post_tag button button_translucent" data-position=3 title="nginx">NGINX<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://chechia.net/tags/pac/' class=" post_tag button button_translucent" data-position=1 title="pac">PAC<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/preemptible/' class=" post_tag button button_translucent" data-position=7 title="preemptible">PREEMPTIBLE<span class="button_tally">7</span>
            </a>
            
            
            <a href='https://chechia.net/tags/prometheus/' class=" post_tag button button_translucent" data-position=5 title="prometheus">PROMETHEUS<span class="button_tally">5</span>
            </a>
            
            
            <a href='https://chechia.net/tags/quantum-computing/' class=" post_tag button button_translucent" data-position=1 title="quantum-computing">QUANTUM-COMPUTING<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/redis/' class=" post_tag button button_translucent" data-position=6 title="redis">REDIS<span class="button_tally">6</span>
            </a>
            
            
            <a href='https://chechia.net/tags/spot-instance/' class=" post_tag button button_translucent" data-position=7 title="spot-instance">SPOT-INSTANCE<span class="button_tally">7</span>
            </a>
            
            
            <a href='https://chechia.net/tags/terraform/' class=" post_tag button button_translucent" data-position=12 title="terraform">TERRAFORM<span class="button_tally">12</span>
            </a>
            
            
            <a href='https://chechia.net/tags/tls/' class=" post_tag button button_translucent" data-position=3 title="tls">TLS<span class="button_tally">3</span>
            </a>
            
            
            <a href='https://chechia.net/tags/tutorial/' class=" post_tag button button_translucent" data-position=1 title="tutorial">TUTORIAL<span class="button_tally">1</span>
            </a>
            
            
            <a href='https://chechia.net/tags/vault/' class=" post_tag button button_translucent" data-position=1 title="vault">VAULT<span class="button_tally">1</span>
            </a>
            
            <div class="tags_sort"><span title="sort alphabetically">[A~Z]</span><span title="sort by count">[0~9]</span>
            </div>
            <span class="tags_hide"><svg class="icon">
            <use xlink:href="#closeme"></use>
          </svg></span>
          </div>
        </div>
      </nav>
    </div>
  </section>
</aside>

  
</div>
    </main><svg width="0" height="0" class="hidden">
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter">
    <path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68 0 0 1-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043 0-1.924.366-2.643 1.078a3.56 3.56 0 0 0-1.076 2.605c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846 0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47 0 .929.273 1.705.82 2.388a3.623 3.623 0 0 0 2.115 1.291c-.312.08-.641.118-.979.118-.312 0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652 0 0 0 2.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422 0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139 0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77 0 0 0 1.172-4.892v-.468a7.788 7.788 0 0 0 1.84-1.921 8.142 8.142 0 0 1-2.11.593z"
      ></path>
  </symbol>
  <symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail">
    <path  d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar">
    <path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916 0 100v352c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V100c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028 0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028 0 20 8.972 20 20v48z"></path>
    <path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github">
    <path d="M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab">
    <path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6 0L12.3 74.8z" />
    <path d="M12.3 74.7L.5 111c-1 3.2 0 6.8 3 8.8l101.6 74-92.5-119z"/>
    <path d="M105 193.7l-38.6-119h-54l92.7 119z"/>
    <path d="M105 193.7l38.7-119H66.4l38.7 119z"/>
    <path d="M105 193.7l38.7-119H198l-93 119z"/>
    <path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/>
    <path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6 0L198 74.8z"/> 
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss">
    <circle cx="3.429" cy="20.571" r="3.429"></circle>
    <path d="M11.429 24h4.57C15.999 15.179 8.821 8.001 0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"></path>
    <path d="M24 24C24 10.766 13.234 0 0 0v4.571c10.714 0 19.43 8.714 19.43 19.429z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h362c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="to-top">
    <path d="M604.501 440.509L325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298 0 36.323s26.223 10.024 36.222 0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221 0 9.999-10.023 9.999-26.298 0-36.323z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly">
    <path d="M504.971 239.029L448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c19.851 0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002 0 0 0 400 320v108c0 19.851-16.149 36-36 36h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c46.318 0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568 0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255 0 24-10.745 24-24S205.255 0 192 0h-44c-46.318 0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568 0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255 0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851 0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002 0 0 0 112 192z"></path>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy">
    <path d="M23 2.75A2.75 2.75 0 0 0 20.25 0H8.75A2.75 2.75 0 0 0 6 2.75v13.5A2.75 2.75 0 0 0 8.75 19h11.5A2.75 2.75 0 0 0 23 16.25zM18.25 14.5h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5z"></path>
    <path d="M8.75 20.5a4.255 4.255 0 0 1-4.25-4.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752 0 0 0 1 5.25v16A2.752 2.752 0 0 0 3.75 24h12a2.752 2.752 0 0 0 2.75-2.75v-.75z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme">
    <path d="M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0 0 14.143 5.857 19.94 19.94 0 0 0 14.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu">
    <path d="M492 236H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954 0 96s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram">
    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id=youtube>
    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow">
    <path d="M21 27v-8h3v11H0V19h3v8h18z"></path><path d="M17.1.2L15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8l13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="xing">
    <path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 55" id="discord">
    <path d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"/>
  </symbol>
</svg>


<footer class="footer">
  <div class="footer_inner wrap pale">
    <img src='https://chechia.net/icons/apple-touch-icon.png' class="icon icon_2 transparent" alt="Che-Chia Chang">
    <p>Copyright&nbsp;<span class="year"></span>&nbsp;CHE-CHIA CHANG. All Rights Reserved</p><a class="to_top" href="#documentTop">
  <svg class="icon">
  <title>to-top</title>
  <use xlink:href="#to-top"></use>
</svg>

</a>

  </div>
</footer>

<script type="text/javascript" src="https://chechia.net/en/js/bundle.6703cf5a19523ed401d8d9e012876ed46642e5b6019e567fb9fe7ad6f46ba535d6a1293fe06a8dfd091cf068a6f11fc605273b8b06177a6d0c09579ab0400cf5.js" integrity="sha512-ZwPPWhlSPtQB2NngEodu1GZC5bYBnlZ/uf561vRrpTXWoSk/4GqN/Qkc8Gim8R/GBSc7iwYXem0MCVeasEAM9Q==" crossorigin="anonymous"></script>
  </body>
</html>
