<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>iac on Che-Chia Chang</title>
    <link>https://chechia.net/tags/iac/</link>
    <description>Recent content in iac on Che-Chia Chang</description>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>Copyright © 2016–2020, Che-Chia Chang; all rights reserved.</copyright>
    <lastBuildDate>Tue, 20 Sep 2022 10:39:37 +0800</lastBuildDate><atom:link href="https://chechia.net/tags/iac/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>14th Ithome Ironman Iac Aws Workshop 06 Provision Iam Group Policy</title>
      <link>https://chechia.net/post/2022-09-20-14th-ithome-ironman-iac-aws-workshop-06-provision-iam-group-policy/</link>
      <pubDate>Tue, 20 Sep 2022 10:39:37 +0800</pubDate>
      
      <guid>https://chechia.net/post/2022-09-20-14th-ithome-ironman-iac-aws-workshop-06-provision-iam-group-policy/</guid>
      <description>
        
          
            昨天我們將 root account IAM user import 到 terraform 中
示範 terraform import 增加 iam user 的功能到 module repository 中 今天要完成 root account 中 IAM Group + Policy，順便聊聊 aws IAM policy 管理原則
root 中設定 IAM User 將手動產生的 Administrator 的 IAM User import terraform 中 補上 root account IAM Policy 補上 root account IAM Group iThome 鐵人賽好讀版
賽後文章會整理放到個人的部落格上 http://chechia.net/
追蹤粉專可以收到文章的主動推播
承接昨天的 plan 結果，我們今天要把 IAM policy 與 group 開出來
Iam User 首先 review aws_iam_user 的 resource
          
          
        
      </description>
    </item>
    
    <item>
      <title>14th Ithome Ironman Iac Aws Workshop 05 Provision Iam User</title>
      <link>https://chechia.net/post/2022-09-19-14th-ithome-ironman-iac-aws-workshop-05-provision-iam-user/</link>
      <pubDate>Mon, 19 Sep 2022 11:59:27 +0800</pubDate>
      
      <guid>https://chechia.net/post/2022-09-19-14th-ithome-ironman-iac-aws-workshop-05-provision-iam-user/</guid>
      <description>
        
          
            昨天我們為每個環境(dev / stag / prod &amp;hellip;) 設定一個 aws organization account
今天要使用 terraform 設定 AWS IAM User
root 中設定 IAM User 將手動產生的 Administrator 的 IAM User 加到 terraform 中 security 中設定 IAM User security 設定 password policy security 設定 MFA policy iThome 鐵人賽好讀版
賽後文章會整理放到個人的部落格上 http://chechia.net/
追蹤粉專可以收到文章的主動推播
Accounts &amp;amp; IAM Users 今天要使用 Terraform 設定 IAM Users。
未來所有的 User 都會透過 terraform 設定並管理 Day02 設定的 root account IAM User: Administrator 雖然是手動建立的，我們一樣需要把他匯入到 terraform 中 然而上個 PR 中，我們的 terraform module 中並沒有設定 IAM User 的功能，也就是這段 code 是沒有發揮功能 https://github.
          
          
        
      </description>
    </item>
    
    <item>
      <title>14th Ithome Ironman Iac Aws Workshop 04 AWS Multi-Accounts Structure</title>
      <link>https://chechia.net/post/2022-09-18-14th-ithome-ironman-iac-aws-workshop-04-aws-multi-account-structure/</link>
      <pubDate>Sun, 18 Sep 2022 09:35:25 +0800</pubDate>
      
      <guid>https://chechia.net/post/2022-09-18-14th-ithome-ironman-iac-aws-workshop-04-aws-multi-account-structure/</guid>
      <description>
        
          
            昨天設定了多個 aws organization accounts，但我們還沒有說明為什麼要這樣做
今天會先講 Gruntwork 提出的 Production-Grade Design: multi-account security strategy
拆分多個 account 的用意 多 account 下如何統一管理 IAM User access control 與安全性控管 iThome 鐵人賽好讀版
賽後文章會整理放到個人的部落格上 http://chechia.net/
追蹤粉專可以收到文章的主動推播
Production-grade Design IAM Gruntwork 提出的 Production-Grade Design: multi-account security strategy，我們這邊一一講解
Root Account 的用途 位於 diagram 圖中的最上層 是整個架構的創世帳號，權限最大 root account 裡面沒有任何 infrastructure 元件， i.e. aws ec2 不會長在裡面，是一個空 account root account 的存取最嚴格 只有很少數的 admin 可以存取 i.e 只有 SRE 部門主管有自己的 IAM User，其他 SRE 沒有權限存取 root account root account 的工作最少 設定 child account 管理 billing IAM policy 管理，不要把 policy 直接綁在 User 上，應該要
          
          
        
      </description>
    </item>
    
    <item>
      <title>14th Ithome Ironman Iac Aws Workshop-03 Provision Child AWS Accounts</title>
      <link>https://chechia.net/post/2022-09-16-14th-ithome-ironman-iac-aws-workshop-03-provision-aws-account/</link>
      <pubDate>Fri, 16 Sep 2022 17:16:21 +0800</pubDate>
      
      <guid>https://chechia.net/post/2022-09-16-14th-ithome-ironman-iac-aws-workshop-03-provision-aws-account/</guid>
      <description>
        
          
            今天要使用 terraform 設定 AWS account structure
iThome 鐵人賽好讀版
賽後文章會整理放到個人的部落格上 http://chechia.net/
追蹤粉專可以收到文章的主動推播
&amp;ndash;
Provision AWS Account
今天要把 aws account 設定完成，並且開始使用 live-repository 來搭建 aws 元件
我們自己的 module repository 開一個權限的 repository fork 我自幹的 modules repository terragrunt-infrastructure-modules https://github.com/chechiachang/terragrunt-infrastructure-modules 上面這個是放 terraform module 的 repository，是兩個 repository 不要跟執行 terragrunt repository 搞混，是兩個 repository https://github.com/chechiachang/terragrunt-infrastructure-live-example 今天的進度與 code base
terraform-live-example PR 在此 terragrunt-infrastructure-modules 請直接看 tag v0.0.1 因為有地方嚴重寫錯，我有 force push 東西 :tear:，如果已經提早下載的朋友可能會需要清掉 repository main branch + tag 重拉 orz 對，我們且戰且走常常會這樣，發現昨天寫的東西寫錯臨時改，請大家見諒
為何使用 aws modules X) 因為我們沒有付錢，不能用 gruntwork 的 priviate repository (大誤
          
          
        
      </description>
    </item>
    
    <item>
      <title>14th Ithome Ironman Iac Aws Workshop-02 AWS Account Struture</title>
      <link>https://chechia.net/post/2022-09-15-14th-ithome-ironman-iac-aws-workshop-02-aws-account-structure/</link>
      <pubDate>Thu, 15 Sep 2022 17:16:21 +0800</pubDate>
      
      <guid>https://chechia.net/post/2022-09-15-14th-ithome-ironman-iac-aws-workshop-02-aws-account-structure/</guid>
      <description>
        
          
            今天要使用 terraform 設定 AWS account structure
iThome 鐵人賽好讀版
賽後文章會整理放到個人的部落格上 http://chechia.net/
追蹤粉專可以收到文章的主動推播
&amp;ndash;
AWS Account structure AWS account structure 是 AWS IAM 提供的 feature 之一，可以讓用戶從一個 account login，然後透過授權操作其他 account 的元件。
然而有這個 feature 不代表用戶就要買單，有實際需求我們才來用 feature。使用 account structure 的理由是什麼？
Account structure 的需求 AWS 官方 whitepaper: 使用 multiple aws account 的好處
依據職務需求將 workload 分組 為不同 environment 設定獨立的 security control 限制敏感資料的存取 提升創新與開發的敏捷 控制事故的影響程度與衝擊 impact 精細的拆分 IT 的工作 成本控管 分散 aws quotas 使用限額與 API rate limit AWS 官方的 organization best practice AWS 官方 OU 管理的 best practice
          
          
        
      </description>
    </item>
    
    <item>
      <title>14th iThome ironman-01 IaC best practice workshop on aws</title>
      <link>https://chechia.net/post/2022-09-12-14th-ithome-ironman-iac-aws-workshop-01-introduction/</link>
      <pubDate>Mon, 12 Sep 2022 14:31:48 +0800</pubDate>
      
      <guid>https://chechia.net/post/2022-09-12-14th-ithome-ironman-iac-aws-workshop-01-introduction/</guid>
      <description>
        
          
            iThome 鐵人賽好讀版
賽後文章會整理放到個人的部落格上 http://chechia.net/
追蹤粉專可以收到文章的主動推播
&amp;ndash;
AWS 為例，實現 production framework 的最佳實踐的 30 天 workshop
準備 Production environmtn Devops 面臨的問題 DevOps 的工作內容繁雜
今天想要 Deploy 一個 backend API deployment 到 k8s 上 一轉眼發現自己在修 port / servie / ingress / alb 一轉眼發現自己在修 tls certificate 一轉眼發現自己在修 node linux 上的一個 bug 一轉眼發現自己在修 monitoring / metrics + alert / log collection &amp;hellip; 我只是想 deploy 一個 backend deployment 修infra 花了好幾天，而寫 deployment 只要 2 hr Devops 的工作，是處理 developer 與 operator 中間的繁雜的細節 換個角度思考：上面這些元件全都是存在許久的功能，應該有一套統一介面隨叫即用這些服務，ex.
          
          
        
      </description>
    </item>
    
  </channel>
</rss>
